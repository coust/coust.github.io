{"version":3,"sources":["components/Aside.module.css","components/App.module.css","components/Header.module.css","components/SearchBar.module.css","components/Button.module.css","components/CourseInfoSection.module.css","components/Faq.module.css","components/TimetableSeparator.module.css","components/Timetable.module.css","timetable/getURL.js","components/Button.js","components/Aside.js","timetable/getShareLink.js","components/CourseInfoSection.js","components/Faq.js","components/SearchBar.js","components/Header.js","components/TimetableSeparator.js","components/Timetable.js","timetable/getSections.js","timetable/updateConflictStyle.js","timetable/emptyRow.js","timetable/compactTable.js","timetable/removeVirtualCourse.js","timetable/storeValue.js","timetable/saveTimetableToStorage.js","timetable/addCourseBox.js","timetable/addVirtualCoruse.js","timetable/removeSection.js","timetable/setTimeConflict.js","timetable/addSection.js","timetable/getSectionObjs.js","timetable/addCourse.js","timetable/getStoredValue.js","timetable/getURLParameter.js","timetable/removeCourse.js","timetable.js","timetable/loadFromUrlOrStorage.js","components/App.js","serviceWorker.js","index.js"],"names":["module","exports","getURL","timetableStr","code","window","timetable","sectionStr","i","length","url","semester","encodeURIComponent","$","children","remove","append","button","Button","props","className","clsx","styles","text","Aside","useEffect","click","event","dialog","preventDefault","aside","id","shareLinkInput","type","copyResult","onClick","CLIENT_PATH","substr","val","show","select","failmsg","document","execCommand","e","getShareLink","faqButton","lastUpdate","CourseInfoSection","style","color","fontSize","marginLeft","timetableControls","none","colspan","Faq","autoOpen","width","buttons","this","title","faq","rel","target","href","SearchBar","useState","inputValue","setInputValue","searchBar","onSubmit","termInfo","input","placeholder","value","onChange","onBlur","Header","header","container","logo","siteName","TimetableSeparator","separator","colSpan","React","PureComponent","twoDigits","hour","Timetable","hours","weekdays","Mo","Tu","We","Th","Fr","Sa","Su","createRef","timetableEl","current","on","$el","parent","find","addClass","hour_class","attr","match","removeClass","index","Fragment","key","time","timeDiv","alt","weekdayId","days","weekday","rowSpan","map","size","ref","span","timesTr","_renderHour","Object","keys","_renderWeekday","getSections","loaded","data","hasOwnProperty","sections","types","duplicate","j","push","k","updateConflictStyle","each","cell","eq","split","hasDate","date_start","date_end","Date","parentsUntil","h","m","hasConflict","oCount","hCount","conflictCourses","makeArray","prevUntil","prev","console","log","course_div","$course_div","c_date_start","next","hasClass","prevAll","emptyRow","row","empty","compactTable","rowcount","rowN","upperRow","filter","sh","sm","upperRowHasRoom","courseDiv","removeAttr","weekth","rowspan","parseInt","firstRow","prepend","sat_empty","sun_empty","removeVirtualCourse","storeValue","Storage","localStorage","setItem","d","setTime","getTime","COOKIE_EXPIRE_DAYS","expires","toGMTString","cookie","saveTimetableToStorage","readMode","addCourseBox","section","start","end","singleton","virtual","dates","sectionObj","colorText","draggable","virtualbox","courseColor","datePeriodText","dateInfo","replace","room","roomShort","instr","NEWLINE","htmldiv","start_time","concat","end_time","starth","Math","floor","startm","endh","endm","tmp","ceil","spancount","added","avail","nextcell","$virtualcell","droppable","drop","over","ui","info","clientX","clientY","out","realcell","appendTo","helper","lessondiv","css","outerWidth","outerHeight","sectiontype","addSection","addVirtualCourse","stop","new_section","splice","removeSection","newrowspan","firstcell","setTimeConflict","course","sectionObjs","objs","getSectionObjs","timeStr","times","s","datetime","str","is","hide","addCourse","_code","trim","alert","hintstext","searchhints","section_singleton","actions","terms","htmlrow","insertBefore","getStoredValue","getItem","name","ca","c","charAt","substring","indexOf","getURLParameter","sParam","sURLVariables","location","search","sParameterName","removeCourse","sort","jQuery","require","API_PATH","ajax","cache","dataType","done","_data","autocomplete","source","minLength","focus","item","html","decodeURIComponent","res","rc","parents","prop","trigger","loadFromUrlOrStorage","App","tooltip","position","my","at","tooltipClass","customTooltipStyle","oldTimetableScript","timetableWrapper","noSelect","display","margin","paddingTop","Boolean","hostname","ReactDOM","render","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"oFACAA,EAAOC,QAAU,CAAC,MAAQ,qBAAqB,eAAiB,8BAA8B,WAAa,0BAA0B,UAAY,yBAAyB,WAAa,4B,mBCAvLD,EAAOC,QAAU,CAAC,UAAY,uBAAuB,mBAAqB,gCAAgC,iBAAmB,8BAA8B,SAAW,sBAAsB,SAAW,wB,mBCAvMD,EAAOC,QAAU,CAAC,OAAS,uBAAuB,UAAY,0BAA0B,KAAO,qBAAqB,SAAW,2B,mBCA/HD,EAAOC,QAAU,CAAC,UAAY,6BAA6B,SAAW,4BAA4B,MAAQ,2B,mBCA1GD,EAAOC,QAAU,CAAC,OAAS,uBAAuB,KAAO,uB,mBCAzDD,EAAOC,QAAU,CAAC,kBAAoB,6CAA6C,KAAO,kC,mBCA1FD,EAAOC,QAAU,CAAC,IAAM,mB,mBCAxBD,EAAOC,QAAU,CAAC,UAAY,wC,2ECA9BD,EAAOC,QAAU,CAAC,UAAY,6BAA6B,KAAO,wBAAwB,QAAU,2BAA2B,QAAU,2BAA2B,IAAM,uBAAuB,QAAU,6B,oKCC5L,SAASC,IACpB,IAAIC,EAAe,GACnB,IAAK,IAAIC,KAAQC,OAAOC,UAAW,CAE/B,IADA,IAAIC,EAAa,GACRC,EAAI,EAAGA,EAAIH,OAAOC,UAAUF,GAAMK,OAAQD,IACrC,IAANA,IAASD,GAAc,KAC3BA,GAAcF,OAAOC,UAAUF,GAAMI,GAEzCL,GAAgBC,EAAO,KAAOG,EAAa,IAE/C,IAAIG,EAAM,eAAeL,OAAOM,SAAP,IAAuB,cAAgBC,mBAAmBT,GAInF,OAHAU,IAAE,WAAWC,WAAWC,SACxBF,IAAE,WAAWG,OAAO,YAAcN,EAAM,2FACxCG,IAAE,gBAAgBI,SACXP,E,qBCEIQ,EAbA,SAACC,GACZ,OACI,4CACQA,EADR,CAEIC,UAAWC,YAAKC,IAAOL,OAAQE,EAAMC,aAErC,0BAAMA,UAAWE,IAAOC,MACnBJ,EAAML,Y,iBCsCRU,EAvCD,WASV,OARAC,qBAAU,WAENZ,IAAE,aAAaa,OAAM,SAAUC,GAC3Bd,IAAE,QAAQe,OAAO,QACjBD,EAAME,uBAKV,yBAAKT,UAAWE,IAAOQ,OACnB,yBAAKC,GAAG,WACR,6BACI,2BACI,2BACIA,GAAG,iBACHX,UAAWE,IAAOU,eAClBC,KAAK,UAGb,uBAAGb,UAAWE,IAAOY,WAAYH,GAAG,eACpC,2BAAG,kBAAC,EAAD,CAAQI,QAAS,kBC5BrB,WACX,IAAIzB,EAAMR,IACVQ,EAAML,OAAO+B,YAAc1B,EAAI2B,OAAO,GACtCxB,IAAE,mBAAmByB,IAAI5B,GAAK6B,OAAOC,SACrC,IAAIC,EAAU,kCACd,IACqBC,SAASC,YAAY,QACtB9B,IAAE,eAAeU,KAAK,8BACjCV,IAAE,eAAeU,KAAKkB,GAC7B,MAAOG,GACL/B,IAAE,eAAeU,KAAKkB,IDkBYI,KAAvB,mBACH,2BACI,kBAAC,EAAD,CAAQd,GAAG,WAAWX,UAAWE,IAAOwB,WAAxC,cAKR,6BACI,uBAAG1B,UAAWE,IAAOyB,YAArB,sBAEI,6BACA,0BAAMhB,GAAG,oB,iBEPdiB,EAhCW,SAAC7B,GACvB,OACI,oCACI,yBACI8B,MAAO,CACHC,MAAO,OACPC,SAAU,GACVC,WAAY,KAJpB,mCAQI,0BAAMrB,GAAG,UAAT,QACA,0BAAMA,GAAG,iBAEb,2BAAOA,GAAG,qBAAqBX,UAAWE,IAAO+B,mBAC7C,+BACA,4BACI,oCACA,qCACA,wCAEJ,wBAAItB,GAAG,OAAOX,UAAWE,IAAOgC,MAC5B,wBAAIC,QAAQ,KAAZ,uBAGJ,2BAAOxB,GAAG,kB,qCC6BXyB,EAhDH,SAACrC,GAiBT,OAhBAM,qBAAU,WAENZ,IAAE,QAAQe,OAAO,CACb6B,UAAU,EACVC,MAAO,IACPC,QAAS,CACL,CACIpC,KAAM,QACNG,MAAO,WACHb,IAAE+C,MAAMhC,OAAO,iBAQ/B,yBACIiC,MAAM,MACN9B,GAAG,MACHX,UAAWE,IAAOwC,KAElB,2BACI,sCADJ,8BACkD,6BAC9C,sCAFJ,oDAEwE,uBAAGC,IAAI,sBAAsBC,OAAO,SAASC,KAAK,kCAAlD,aAFxE,iCAEsM,uBAAGF,IAAI,sBAAsBC,OAAO,SAASC,KAAK,qCAAlD,kCAFtM,yHAEob,8BAEpb,2BACI,sCADJ,2BAC+C,6BAC3C,sCAFJ,oOAEwP,8BAExP,2BACI,sCADJ,2CAC+D,6BAC3D,sCAFJ,gGAEoH,8BAEpH,2BACL,0EAA+C,uBAAGA,KAAK,qCAAR,qBAA/C,KAA0H,8BAErH,2BACI,2CADJ,IAC6B,uBAAGF,IAAI,sBAAsBC,OAAO,SAASC,KAAK,sCAAlD,sCAA6H,8BAE1J,2BACI,4CADJ,0BACoD,gC,yBCnBjDC,EA7BG,WAAO,IAAD,EACgBC,mBAAS,IADzB,mBACbC,EADa,KACDC,EADC,KAOpB,OACI,yBAAKjD,UAAWE,IAAOgD,WACnB,0BAAMC,SANO,SAAC5C,GAClBA,EAAME,mBAME,4BACI,wBAAIT,UAAWE,IAAOkD,SAAUzC,GAAG,YAAnC,cACA,4BACI,2BACIX,UAAWE,IAAOmD,MAClB1C,GAAG,MACHE,KAAK,OACLyC,YAAY,2BACZC,MAAOP,EACPQ,SAAU,SAACjD,GAAD,OAAW0C,EAAc1C,EAAMqC,OAAOW,QAChDE,OAAQ,kBAAMR,EAAc,Y,iBCLzCS,EAbA,WACX,OACI,4BAAQ1D,UAAWE,IAAOyD,QACtB,yBAAK3D,UAAWE,IAAO0D,WACnB,uBAAG5D,UAAWE,IAAO2D,KAAMhB,KAAK,KAC5B,0BAAM7C,UAAWE,IAAO4D,UAAxB,UAEJ,kBAAC,EAAD,S,iBCTKC,E,iLAEb,OACI,wBAAI/D,UAAWE,IAAO8D,WAClB,6BACA,wBAAIC,QAAS,U,GALmBC,IAAMC,e,gBCMtD,SAASC,EAAUC,GACf,OAA6B,IAArB,UAAGA,GAAOhF,OAAX,WAA+BgF,GAA/B,UAA2CA,G,IAGjCC,E,2MACjBC,MAAQ,CAAC,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,I,EAChEC,SAAW,CACPC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,O,EAGR7F,UAAYgF,IAAMc,Y,mFAGd,IAAMC,EAAczC,KAAKtD,UAAUgG,QAEnCzF,IAAEwF,GAAaE,GAAG,uBAAwB,MAAM,SAAU3D,GACtD,GAA2B,cAAvBA,EAAEoB,OAAO5C,WAAoD,aAAvBwB,EAAEoB,OAAO5C,WACrB,YAAvBwB,EAAEoB,OAAO5C,WAAkD,SAAvBwB,EAAEoB,OAAO5C,gBAG/C,GAAe,cAAXwB,EAAEX,KAAsB,EACzBuE,EAAM3F,IAAE+C,OACR6C,SAASA,SAASC,KAAK,MAAMC,SAAS,UACtCC,EAAaJ,EAAIK,KAAK,SAASC,MAAM,kBACzBjG,IAAE,IAAM+F,GAAYD,SAAS,aAG5C,CACD,IAAIH,EAEAI,GAFAJ,EAAM3F,IAAE+C,OACR6C,SAASA,SAASC,KAAK,MAAMK,YAAY,UACzCH,EAAaJ,EAAIK,KAAK,SAASC,MAAM,kBACzBjG,IAAE,IAAM+F,GAAYG,YAAY,e,kCAMhDtB,EAAMuB,GACd,OACI,kBAAC,IAAMC,SAAP,CAAgBC,IAAKF,GACjB,wBAAI5F,UAAWE,IAAO6F,MAClB,yBAAK/F,UAAWE,IAAO8F,SAAU5B,EAAUC,GAA3C,QAEJ,wBAAIrE,UAAWC,YAAKC,IAAO6F,KAAM7F,IAAO+F,MACpC,yBAAKjG,UAAWE,IAAO8F,SAClB5B,EAAUC,GADf,W,qCAQD6B,EAAWN,GACtB,OACI,kBAAC,IAAMC,SAAP,CAAgBC,IAAKF,GACjB,2BAAOjF,GAAIuF,EAAWlG,UAAWC,YAAKC,IAAOiG,KAAM,SAC/C,4BACI,wBAAInG,UAAWC,YAAKC,IAAOkG,QAAS,WAAYC,QAAS,GACpD7D,KAAKgC,SAAS0B,IAElB1D,KAAK+B,MAAM+B,KAAI,SAACjC,EAAMuB,GAAP,OAA4B,KAATvB,EAAe,KAC9C,kBAAC,IAAMwB,SAAP,CAAgBC,IAAKF,GACjB,wBAAI5F,UAAS,WAAMoE,EAAUC,GAAhB,UACb,wBAAIrE,UAAS,WAAMoE,EAAUC,GAAhB,gBAK3BuB,EAAQpD,KAAKgC,SAAS+B,KAAO,EAAK,KAAO,kBAAC,EAAD,S,+BAK7C,IAAD,OACL,OACI,2BACIC,IAAKhE,KAAKtD,UACVyB,GAAG,YACHX,UAAWC,YAAKC,IAAOhB,UAAW,YAElC,mCACCsD,KAAK+B,MAAM+B,KAAI,SAACjC,EAAMuB,GAAP,OACZ,8BAAUE,IAAKF,EAAOa,KAAM,OAEhC,+BACI,wBAAIzG,UAAWE,IAAOwG,SACjBlE,KAAK+B,MAAM+B,KAAI,SAACjC,EAAMuB,GAAP,OAAiB,EAAKe,YAAYtC,EAAMuB,QAG/DgB,OAAOC,KAAKrE,KAAKgC,UAAU8B,KAAI,SAACJ,EAAWN,GAAZ,OAAsB,EAAKkB,eAAeZ,EAAWN,W,GA3F9D1B,IAAMC,e,4DCd9B,SAAS4C,EAAY/H,GAChC,IAAKC,OAAO+H,OACR,OAAO,KAEX,IAAK/H,OAAOgI,KAAKC,eAAelI,GAC5B,OAAO,KAKX,IAHA,IACImI,EADSlI,OAAOgI,KAAKjI,GACJ,SACjBoI,EAAQ,GACHhI,EAAI,EAAGA,EAAI+H,EAAS9H,OAAQD,IAAK,CACtC,IAAIyB,EAAOsG,EAAS/H,GAAT,QAAuBsG,MAAM,cACb,qBAAhB0B,EAAMvG,KACbuG,EAAMvG,GAAQ,IAGlB,IADA,IAAIwG,GAAY,EACPC,EAAI,EAAGA,EAAIF,EAAMvG,GAAMxB,OAAQiI,IAChCH,EAAS/H,GAAT,UAA2BgI,EAAMvG,GAAMyG,KACvCD,GAAY,GAGfA,GACDD,EAAMvG,GAAM0G,KAAKJ,EAAS/H,GAAT,SAGzB,IAAIyH,EAAO,GACX,IAAK,IAAIW,KAAKJ,EACVP,EAAKU,KAAKC,GAGd,OADAJ,EAAK,MAAYP,EACVO,EC5BI,SAASK,IAEpBhI,IAAEiI,KAAKjI,IAAE,cAAc,WACnB,IAAIkI,EAAOlI,IAAE+C,MACTxD,EAAOS,IAAEkI,GAAMjI,SAAS,cAAckI,GAAG,GAAGnC,KAAK,QAAQoC,MAAM,KAAK,GACpEC,EAAqE,KAA3DrI,IAAEkI,GAAMjI,SAAS,cAAckI,GAAG,GAAGnC,KAAK,cACQ,KAAzDhG,IAAEkI,GAAMjI,SAAS,cAAckI,GAAG,GAAGnC,KAAK,WAC7CsC,EAAa,KAAMC,EAAW,KAC9BF,IACAC,EAAa,IAAIE,KAAKxI,IAAEkI,GAAMjI,SAAS,cAAckI,GAAG,GAAGnC,KAAK,cAChEuC,EAAW,IAAIC,KAAKxI,IAAEkI,GAAMjI,SAAS,cAAckI,GAAG,GAAGnC,KAAK,aAElE,IAAIW,EAAU3G,IAAEkI,GAAMO,aAAa,SAAS7C,SAASI,KAAK,MACtD0C,EAAI1I,IAAEkI,GAAMlC,KAAK,SAASC,MAAM,cAChC0C,EAAI3I,IAAEkI,GAAMlC,KAAK,SAASC,MAAM,cAChC2C,GAAc,EACdC,EAAS7I,IAAE,IAAM2G,EAAU,KAAO+B,EAAI,IAAMC,EAAI,aAAa/I,OAC7DkJ,EAAS9I,IAAE,IAAM2G,EAAU,KAAO+B,EAAI,IAAMC,EAAI,WAAW/I,OAC/D,GAAe,IAAXiJ,GAAgBC,EAAS,EACzB,GAAKT,EACA,CACD,IAAIU,EAAkB/I,IAAEgJ,UAAUhJ,IAAE,IAAM2G,EAAU,KAAO+B,EAAI,IAAMC,EAAI,cACzE3I,IAAEiI,KAAKjI,IAAE,IAAM2G,EAAU,KAAO+B,EAAI,IAAMC,EAAI,YAAY,WACtDI,EAAgBjB,KAAK9H,IAAE+C,MAAMkG,UAAU,aAAaC,WAExDC,QAAQC,IAAIL,GACZ,IAAK,IAAIpJ,EAAI,EAAGA,EAAIoJ,EAAgBnJ,SAAWgJ,EAAajJ,IAAK,CAC7D,IAAI0J,EAAarJ,IAAE+I,EAAgBpJ,IAAIM,SAAS,cAAckI,GAAG,GAC7DmB,EAActJ,IAAEqJ,GACpB,GAAKC,EAAYtD,KAAK,SAAWzG,IAAS+J,EAAYtD,KAAK,QAAQoC,MAAM,KAAK,GAA9E,CACA,IACImB,EAAe,KADiC,KAApCvJ,IAAEqJ,GAAYrD,KAAK,cAAyD,KAAlChG,IAAEqJ,GAAYrD,KAAK,YAGzEuD,EAAe,IAAIf,KAAKxI,IAAEqJ,GAAYrD,KAAK,eAEpCsC,IADM,IAAIE,KAAKxI,IAAEqJ,GAAYrD,KAAK,cACJuC,IAAagB,IAC9CX,GAAc,IAIlBA,GAAc,SArBZA,GAAc,EA2BhC,IADA,IAAIY,EAAOxJ,IAAEkI,GAAMsB,OACZxJ,IAAEwJ,GAAMC,SAAS,YAAcb,GAAa,CAK/C,GAJAF,EAAI1I,IAAEwJ,GAAMxD,KAAK,SAASC,MAAM,cAChC0C,EAAI3I,IAAEwJ,GAAMxD,KAAK,SAASC,MAAM,cAChC4C,EAAS7I,IAAE,IAAM2G,EAAU,KAAO+B,EAAI,IAAMC,EAAI,aAAa/I,OAC7DkJ,EAAS9I,IAAE,IAAM2G,EAAU,KAAO+B,EAAI,IAAMC,EAAI,WAAW/I,OACvDiJ,EAAS,GAAgB,IAAXC,EACd,GAAKT,EACA,CACGU,EAAkB/I,IAAEgJ,UAAUhJ,IAAE,IAAM2G,EAAU,KAAO+B,EAAI,IAAMC,EAAI,cACzE3I,IAAEiI,KAAKjI,IAAE,IAAM2G,EAAU,KAAO+B,EAAI,IAAMC,EAAI,YAAY,WACtDI,EAAgBjB,KAAK9H,IAAE+C,MAAM2G,QAAQ,aAAavB,GAAG,OAEzD,IAASxI,EAAI,EAAGA,EAAIoJ,EAAgBnJ,SAAWgJ,EAAajJ,IAAK,CACzD0J,EAAarJ,IAAE+I,EAAgBpJ,IAAIM,SAAS,cAAckI,GAAG,GACjE,GAAI5I,IAASS,IAAEqJ,GAAYrD,KAAK,QAAQoC,MAAM,KAAK,GAAnD,CAEImB,EAAe,KADiC,KAApCvJ,IAAEqJ,GAAYrD,KAAK,cAAyD,KAAlChG,IAAEqJ,GAAYrD,KAAK,YAGzEuD,EAAe,IAAIf,KAAKxI,IAAEqJ,GAAYrD,KAAK,eAEpCsC,IADM,IAAIE,KAAKxI,IAAEqJ,GAAYrD,KAAK,cACJuC,IAAagB,IAC9CX,GAAc,IAIlBA,GAAc,SAnBZA,GAAc,EAwBhCY,EAAOxJ,IAAEwJ,GAAMA,OAEnBxJ,IAAEkI,GAAMjI,SAAS,WAAWiG,YAAY,iBACpC0C,GAAa5I,IAAEkI,GAAMjI,SAAS,WAAW6F,SAAS,oBC9E/C,SAAS6D,EAASC,GAC7B,IAAIC,GAAQ,EAMZ,OALA7J,IAAE4J,GAAK3J,SAAS,MAAMgI,MAAK,YACnBjI,IAAE+C,MAAM0G,SAAS,aAAezJ,IAAE+C,MAAM0G,SAAS,aACjDI,GAAQ,MAGTA,ECJI,SAASC,IAEpB9J,IAAE,SAASiI,MAAK,WAEZ,IADA,IAAI8B,EAAW/J,IAAE+C,MAAM9C,SAAS,MAAML,OAC7BoK,EAAO,EAAGA,EAAOD,EAAW,GAAKA,EAAW,EAAGC,IAEpD,IADA,IAAIC,EAAWjK,IAAE+C,MAAM9C,SAAS,MAAMkI,GAAG6B,GAChCrK,EAAIqK,EAAO,EAAGrK,EAAIoK,EAAUpK,IAAK,CACtC,IAAIiK,EAAM5J,IAAE+C,MAAM9C,SAAS,MAAMkI,GAAGxI,GACpCK,IAAEiI,KAAKjI,IAAE4J,GAAK3J,SAAS,MAAMiK,OAAO,cAAc,WAC9C,IAAIC,EAAKnK,IAAE+C,MAAMiD,KAAK,SAASC,MAAM,cACjCmE,EAAKpK,IAAE+C,MAAMiD,KAAK,SAASC,MAAM,cACjCoE,GAAkB,GAClBrK,IAAEiK,GAAUpE,KAAK,IAAMsE,EAAK,IAAMC,GAAIX,SAAS,aAC5CzJ,IAAEiK,GAAUpE,KAAK,IAAMsE,EAAK,IAAMC,GAAIX,SAAS,aAClDY,GAAkB,GAGtB,IADA,IAAIb,EAAOxJ,IAAE+C,MAAMyG,OACZxJ,IAAEwJ,GAAMC,SAAS,WAAaY,GAAiB,CAClD,IAAI3B,EAAI1I,IAAEwJ,GAAMxD,KAAK,SAASC,MAAM,cAChC0C,EAAI3I,IAAEwJ,GAAMxD,KAAK,SAASC,MAAM,eAChCjG,IAAEiK,GAAUpE,KAAK,IAAM6C,EAAI,IAAMC,GAAGc,SAAS,aAC1CzJ,IAAEiK,GAAUpE,KAAK,IAAM6C,EAAI,IAAMC,GAAGc,SAAS,aAChDY,GAAkB,GAEtBb,EAAOxJ,IAAEwJ,GAAMA,OAEnB,GAAIa,EAAiB,CACjB,IAAIC,EAAYtK,IAAE+C,MAAM9C,SAAS,WAAWkI,GAAG,GAC3CzF,EAAU1C,IAAE+C,MAAMiD,KAAK,WAC3BhG,IAAE+C,MAAMwH,WAAW,WACnB,IAAIrC,EAAOlI,IAAEiK,GAAUpE,KAAK,IAAMsE,EAAK,IAAMC,GAC7CpK,IAAEkI,GAAMpC,SAAS,YACjB9F,IAAEkI,GAAMlC,KAAK,UAAWtD,GACxB1C,IAAEkI,GAAM/H,OAAOmK,GAEf,IADId,EAAOxJ,IAAE+C,MAAMyG,OACZxJ,IAAEwJ,GAAMC,SAAS,WACpBvB,EAAOlI,IAAEkI,GAAMsB,OACfxJ,IAAEkI,GAAMpC,SAAS,UACjB9F,IAAEwJ,GAAMtD,YAAY,UACpBsD,EAAOxJ,IAAEwJ,GAAMA,OAEnBxJ,IAAE+C,MAAM9C,SAAS,WAAWC,SAC5BF,IAAE+C,MAAMmD,YAAY,oBAQxClG,IAAE,SAASiI,MAAK,WACZ,IAAIuC,EAASxK,IAAE,IAAMA,IAAE+C,MAAMiD,KAAK,MAAQ,aACtCyE,EAAUC,SAAS1K,IAAEwK,GAAQxE,KAAK,WAAY,IAC9C+D,EAAW/J,IAAE+C,MAAM9C,SAAS,MAAML,OACtC,GAAImK,EAAW,EAAG,CACd,IAAK,IAAIpK,EAAI,EAAGA,EAAIoK,EAAUpK,IAAK,CAC/B,IAAIiK,EAAM5J,IAAE+C,MAAM9C,SAAS,MAAMkI,GAAGxI,GAChCgK,EAASC,KACT5J,IAAE4J,GAAK9D,SAAS,UAChB2E,KAGRzK,IAAEwK,GAAQxE,KAAK,UAAWyE,GAC1BzK,IAAE,aAAaE,SACf,IAAIyK,EAAW3K,IAAE+C,MAAM9C,SAAS,MAAMkI,GAAG,GACrCwB,EAASgB,IAAa3K,IAAE+C,MAAM9C,SAAS,MAAML,OAAS,IACtD6K,IACAzK,IAAEwK,GAAQxE,KAAK,UAAWyE,GAC1BzK,IAAE+C,MAAM9C,SAAS,MAAMkI,GAAG,GAAGyC,QAAQ5K,IAAEwK,IACvCxK,IAAE2K,GAAUzK,cAMxBF,IAAE,SAASiI,MAAK,WAEK,IADFjI,IAAE+C,MAAM9C,SAAS,MAAML,QAElCI,IAAE+C,MAAM8C,KAAK,kBAAkBK,YAAY,oBAGnD,IAAI2E,GAAY,EAChB7K,IAAE,OAAOC,SAAS,MAAMgI,MAAK,WACzB,IAAK0B,EAAS3J,IAAE+C,OAEZ,OADA8H,GAAY,GACL,KAGXA,GAAW7K,IAAE,OAAOkG,YAAY,UAAUJ,SAAS,UACvD,IAAIgF,GAAY,EAChB9K,IAAE,OAAOC,SAAS,MAAMgI,MAAK,WACzB,IAAK0B,EAAS3J,IAAE+C,OAEZ,OADA+H,GAAY,GACL,KAGXA,GAAW9K,IAAE,OAAOkG,YAAY,UAAUJ,SAAS,UAGvD9F,IAAE,SAASiI,MAAK,WAEK,IADFjI,IAAE+C,MAAM9C,SAAS,MAAML,SAElCI,IAAE+C,MAAM9C,SAAS,MAAM4F,KAAK,cAAcG,KAAK,UAAW,GAC1DhG,IAAE+C,MAAM5C,OAAO,8tBAIvB6H,IC7GW,SAAS+C,EAAoBxL,GACxCS,IAAE,kCAAoCT,GAAM0I,MAAK,WAC7C,IAAIC,EAAOlI,IAAE+C,MAAM6C,SACflD,EAAU1C,IAAEkI,GAAMlC,KAAK,WAC3BhG,IAAEkI,GAAMqC,WAAW,WACnBvK,IAAEkI,GAAMhC,YAAY,YAEpB,IADA,IAAIsD,EAAOxJ,IAAEkI,GAAMsB,OACV7J,EAAI,EAAGA,EAAI+C,EAAS/C,IACzBK,IAAEwJ,GAAMtD,YAAY,UACpBsD,EAAOxJ,IAAEwJ,GAAMA,OAEnBxJ,IAAE+C,MAAM7C,YAEZ4J,ICjBW,SAASkB,EAAW3E,EAAKvC,GACpC,GAAwB,qBAAbmH,QACPC,aAAaC,QAAQ9E,EAAKvC,OAEzB,CACD,IAAIsH,EAAI,IAAI5C,KACZ4C,EAAEC,QAAQD,EAAEE,UAAyC,GAA5B9L,OAAO+L,mBAA0B,GAAK,GAAK,KACpE,IAAIC,EAAU,WAAaJ,EAAEK,cAC7B5J,SAAS6J,OAASrF,EAAM,IAAMvC,EAAQ,KAAO0H,GCNtC,SAASG,IACpB,IAAInM,OAAOoM,SAAX,CACA,IAAItM,EAAe,GACnB,IAAK,IAAIC,KAAQC,OAAOC,UAAW,CAE/B,IADA,IAAIC,EAAa,GACRC,EAAI,EAAGA,EAAIH,OAAOC,UAAUF,GAAMK,OAAQD,IACrC,IAANA,IAASD,GAAc,KAC3BA,GAAcF,OAAOC,UAAUF,GAAMI,GAEzCL,GAAgBC,EAAO,KAAOG,EAAa,IAE/CsL,EAAW,YAAajL,mBAAmBT,IAC3C0L,EAAW,qBAAsBxL,OAAOM,SAAP,MCFtB,SAAS+L,EAAatM,EAAMuM,EAASnF,EAASoF,EAAOC,EAAKC,EAAWC,EAASC,EAAOC,GAC5FpM,IAAE,IAAM2G,GAAS8C,SAAS,WAC1BzJ,IAAE,IAAM2G,GAAST,YAAY,UAEjC,IAAImG,EAAY,QAAU7M,OAAO6C,MAC7BiK,EAAY,GACXL,IACDK,EAAY,aAEhB,IAAIC,EAAa,OACbL,IACAK,EAAa,UACbF,EAAYrM,IAAE,mBAAqBT,GAAMyG,KAAK,SAASC,MAAM,iBAE7DzG,OAAOgN,YAAY/E,eAAelI,KAClC8M,EAAY,QAAU7M,OAAOgN,YAAYjN,IAE7C,IAAIyD,EAAQ+I,EAAQ,MAAQC,EACxBS,EAAiB,GAAIC,EAAW,GAEhCP,GACAnJ,EAAQmJ,EAAM,GAAK,MAAQA,EAAM,GAFvB,QAEsCnJ,EAC5CmJ,EAAK,WAAcM,EAAiB,KAAON,EAAK,MAAY,KAChEO,EAAW,cAAgBP,EAAM,GAAK,cAAgBA,EAAM,GAAK,KAGjEO,EAAW,0BAEfA,EAAWA,EAASC,QAAQ,IAAK,KACjC,IAAIC,EAAOR,EAAU,KACT,OAARQ,IAAeA,EAAO,WAC1B,IAAIC,EAAYD,EAAKD,QAAQ,oCAAqC,IAMlE,GAHAE,GADAA,GADAA,EAAYA,EAAUF,QAAQ,eAAgB,KACxBA,QAAQ,qBAAsB,OAC9BA,QAAQ,cAAe,IAC7C3J,GAhBc,QAgBK4J,EAhBL,oBAiB0B,IAApCR,EAAU,WAAexM,QAAcwM,EAAU,WAAetE,KAAK,OACjC,IAApCsE,EAAU,WAAexM,OAAcoD,GAASoJ,EAAU,WAAe,QACxE,IAAK,IAAIU,EAAQ,EAAGA,EAAQV,EAAU,WAAexM,OAAQkN,IAC9D9J,GAAS+J,WAAkBX,EAAU,WAAeU,GAExD,IAAIE,EAAU,QAAUN,EAAW,WAAa1J,EAAQ,WAAazD,EAAO,IAAMuM,EAAU,YAAcO,EAAY,WAAaC,EAAY,IAAMC,EAAa,IAAMhN,EAAO,IAAMuM,EAAU,UAAYvM,EAAO,QAAUuM,EAAUW,EAAiB,QAAUI,EAAY,eACzQI,EAAavC,SAASqB,EAAMvK,OAAO,EAAG,GAAG0L,OAAOnB,EAAMvK,OAAO,EAAG,IAAK,IAC9C,OAAvBuK,EAAMvK,OAAO,EAAG,IAAsC,OAAvBuK,EAAMvK,OAAO,EAAG,KAC/CyL,GAAc,MAElB,IAAIE,EAAWzC,SAASsB,EAAIxK,OAAO,EAAG,GAAKwK,EAAIxK,OAAO,EAAG,GAAI,IACpC,OAArBwK,EAAIxK,OAAO,EAAG,IAAoC,OAArBwK,EAAIxK,OAAO,EAAG,KAC3C2L,GAAY,MAEhB,IAAIC,EAASC,KAAKC,MAAML,EAAa,KACjCM,EAASN,EAAa,IACtBO,EAAOH,KAAKC,MAAMH,EAAW,KAC7BM,EAAON,EAAW,IAClBzE,EAAI,IAAIwE,OAAQE,EAAS,GAAO,IAAIF,OAAOE,GAAWA,GACtDM,EAA+B,GAAzBL,KAAKM,KAAKJ,EAAS,IAAW,GACpC5E,EAAI,IAAIuE,OAAOQ,EAAM,GAAK,IAAIR,OAAOQ,GAAOA,GAC5CE,EAAYP,KAAKM,MAAa,GAAPH,EAAYC,EAAgB,GAATL,EAAcG,GAAU,IAClEM,GAAQ,EACRjF,GAAc,EA2FlB,GA1FA5I,IAAE,IAAM2G,GAAS1G,SAAS,MAAMgI,MAAK,WACjC,GAAI4F,EAAO,OAAO,EAClB,IAAI3F,EAAOlI,IAAE+C,MAAM9C,SAAS,MAAQyI,EAAI,IAAMC,GAAGR,GAAG,GACpD,GAAInI,IAAEkI,GAAMuB,SAAS,aAAezJ,IAAEkI,GAAMuB,SAAS,UAEjDb,GAAc,MAEb,CAID,IAFA,IAAIkF,GAAQ,EACRC,EAAW/N,IAAEkI,GAAMsB,OACd7J,EAAI,EAAGA,EAAIiO,EAAWjO,KACvBK,IAAE+N,GAAUtE,SAAS,aAAezJ,IAAE+N,GAAUtE,SAAS,aACzDqE,GAAQ,GAEZC,EAAW/N,IAAE+N,GAAUvE,OAG3B,GAAIsE,EAAO,CACP9N,IAAEkI,GAAM/H,OAAO6M,GACfhN,IAAEkI,GAAMpC,SAAS,YACjB9F,IAAEkI,GAAMlC,KAAK,UAAW4H,GAExB,IAAIpE,EAAOxJ,IAAEkI,GAAMsB,OACnB,IAAS7J,EAAI,EAAGA,EAAIiO,EAAWjO,IAC3BK,IAAEwJ,GAAM1D,SAAS,UACjB0D,EAAOxJ,IAAEwJ,GAAMA,OAGnB,GADAqE,GAAQ,EACH3B,EAmCA,CAED,IAAI8B,EAAehO,IAAE,sBAAwBT,EAAO,IAAMuM,GAC1DkC,EAAaC,UAAU,CACnBC,KAAM,WAEFF,EAAalI,SAAS,SACtBkI,EAAa9H,YAAY,kBAE7BiI,KAAM,SAAUrN,EAAOsN,GACnBJ,EAAalI,SAAS,iBACtBqD,QAAQkF,KAAK,UAAW,CAACC,QAASxN,EAAK,QAAayN,QAASzN,EAAK,SAAc,OAAQsN,EAAE,SAE9FI,IAAK,SAAU1N,EAAOsN,GAClBJ,EAAa9H,YAAY,yBA/CjC,IAAK+F,EAAW,CACZ,IAAIwC,EAAWzO,IAAE,mBAAqBT,EAAO,IAAMuM,GACnD9L,IAAEyO,GAAUnC,UAAU,CAClBoC,SAAU,OACVC,OAAQ,QACR5C,MAAO,SAAUjL,EAAOsN,GACLpO,IAAEyO,GAAUtG,GAAG,GAAGM,aAAa,MAAM7C,SAApD,IACIgJ,EAAY5O,IAAEyO,GAAUtG,GAAG,GAC/BnI,IAAEoO,EAAGO,QAAQE,IAAI,QAAS7O,IAAE4O,GAAWE,cACvC9O,IAAEoO,EAAGO,QAAQE,IAAI,SAAU7O,IAAE4O,GAAWG,eACxC/O,IAAEoO,EAAGO,QAAQ7I,SAAS,QACtB9F,IAAEoO,EAAGO,QAAQpE,WAAW,SC7GzC,SAA0BhL,EAAMuM,GAI3C,IAHA,IAAIkD,EAAclD,EAAQ7F,MAAM,WAC5ByB,EAAWJ,EAAY/H,GACvB0M,EAA8C,IAAjCvE,EAASsH,GAAapP,OAC9BD,EAAI,EAAGA,EAAI+H,EAASsH,GAAapP,OAAQD,IAC1C+H,EAASsH,GAAarP,KAAOmM,GAGjCmD,EAAWzP,OAAOgI,KAAKjI,GAAOmI,EAASsH,GAAarP,GAAIsM,GAAW,GAEvEjE,IDoG4BkH,CAAiB3P,EAAMuM,IAE3BqD,KAAM,SAAUrO,EAAOsN,GACnB,GAAIpO,IAAE,oBAAsBT,GAAMK,OAAS,EAAG,CAC1C,IAAIwP,EAAcpP,IAAE,oBAAsBT,GAAM4I,GAAG,GAAGnC,KAAK,QAAQoC,MAAM,KAAK,GAI9E2C,EAAoBxL,GEtHzC,SAAuBA,EAAMuM,GACxC,IAAK,IAAInM,EAAI,EAAGA,EAAIH,OAAOC,UAAUF,GAAMK,QACnCJ,OAAOC,UAAUF,GAAMI,KAAOmM,EAC9BtM,OAAOC,UAAUF,GAAM8P,OAAO1P,EAAG,GAGjCA,IAGRK,IAAE,QAAUT,EAAO,IAAMuM,GAAS5L,SACU,IAAxCF,IAAE,gBAAgBC,WAAWL,QAC7BI,IAAE,WAAW0B,OAEjB1B,IAAE,0BAA4BT,EAAO,IAAMuM,GAAS7D,MAAK,WACrD,IAAIC,EAAOlI,IAAE+C,MAAM6C,SACflD,EAAU1C,IAAEkI,GAAMlC,KAAK,WAC3BhG,IAAEkI,GAAMqC,WAAW,WACnBvK,IAAEkI,GAAMhC,YAAY,YAEpB,IADA,IAAIsD,EAAOxJ,IAAEkI,GAAMsB,OACV7J,EAAI,EAAGA,EAAI+C,EAAS/C,IACzBK,IAAEwJ,GAAMtD,YAAY,UACpBsD,EAAOxJ,IAAEwJ,GAAMA,OAEnBxJ,IAAE+C,MAAM7C,YAEZ4J,IACAzK,IF8FgCiQ,CAAc/P,EAAMuM,GAEpBmD,EAAWzP,OAAOgI,KAAKjI,GAAO6P,EAAanD,GAAW,QAGtDlB,EAAoBxL,YA2BxCqJ,GAAc,OAKrBiF,EAAO,CAER,IAAI0B,EAAa7E,SAAS1K,IAAE,IAAM2G,EAAU,OAAOX,KAAK,WAAY,IAAM,EAC1EhG,IAAE,IAAM2G,EAAU,OAAOX,KAAK,UAAWuJ,GAIzC,OAFAvP,IAAE,IAAM2G,GAASxG,OADH,8sBAEd0L,EAAatM,EAAMuM,EAASnF,EAASoF,EAAOC,EAAKC,EAAWC,EAASC,EAAOC,GAG5ExD,GGzKO,SAAyBjC,EAASoF,EAAOC,GACpD,IAAIiB,EAAavC,SAASqB,EAAMvK,OAAO,EAAG,GAAG0L,OAAOnB,EAAMvK,OAAO,EAAG,IAAK,IAC9C,OAAvBuK,EAAMvK,OAAO,EAAG,IAAsC,OAAvBuK,EAAMvK,OAAO,EAAG,KAC/CyL,GAAc,MAElB,IAAIE,EAAWzC,SAASsB,EAAIxK,OAAO,EAAG,GAAKwK,EAAIxK,OAAO,EAAG,GAAI,IACpC,OAArBwK,EAAIxK,OAAO,EAAG,IAAoC,OAArBwK,EAAIxK,OAAO,EAAG,KAC3C2L,GAAY,MAEhB,IAAIC,EAASC,KAAKC,MAAML,EAAa,KACjCM,EAASN,EAAa,IACtBO,EAAOH,KAAKC,MAAMH,EAAW,KAC7BM,EAAON,EAAW,IAClBM,GAAQ,GAAIA,EAAO,EACdA,GAAQ,KAAIA,EAAO,IAC5B,IAAK,IAAI9N,EAAIyN,EAAQzN,GAAK6N,EAAM7N,IAC5B,IAAK,IAAIkI,EAAI,EAAGA,EAAI,GAAIA,GAAK,GACzB,KAAIlI,IAAMyN,GAAUvF,EAAI0F,GAAxB,CACA,GAAI5N,IAAM6N,GAAQ3F,EAAI4F,EAAM,MAC5B,IAAI/E,EAAI,IAAIwE,OAAQvN,EAAI,GAAO,IAAIuN,OAAOvN,GAAMA,GAC5CgJ,EAAI,IAAIuE,OAAQrF,EAAI,GAAM,IAAIqF,OAAOrF,GAAKA,GAE9C7H,IAAEiI,KAAKjI,IAAE,IAAM2G,EAAU,KAAO+B,EAAI,IAAMC,IAAI,WAC1C,GAAI3I,IAAE+C,MAAM0G,SAAS,UAAW,CAC5B,IAAI+F,EAAYxP,IAAE+C,MAAMkG,UAAU,aAAaC,OAC/ClJ,IAAEwP,GAAWvP,SAAS,WAAWiG,YAAY,iBAAiBJ,SAAS,sBAElE9F,IAAE+C,MAAM0G,SAAS,aACtBzJ,IAAE+C,MAAM9C,SAAS,WAAWiG,YAAY,iBAAiBJ,SAAS,qBH6IjE2J,CAAgB9I,EAASoF,EAAOC,GACjDhM,IAAE,cAAgBT,GAAMkJ,aAAa,MAAM7C,SAASM,YAAY,YAEhEyF,IACAtM,IACA2I,IACIxI,OAAOoM,UAAU5L,IAAE,qBAAqBsM,UAAU,WIzK3C,SAAS2C,EAAWS,EAAQ5D,EAASG,EAAWC,GAC3D,IAAI3M,EAAOmQ,EAAM,KACZxD,GAAS1M,OAAOC,UAAUF,GAAMuI,KAAKgE,GAI1C,IAHA,IAAI6D,ECXO,SAAwBpQ,EAAMuM,GAEzC,IADA,IAAI8D,EAAO,GACF/H,EAAI,EAAGA,EAAIrI,OAAOgI,KAAKjI,GAAZ,SAA8BK,OAAQiI,IAClDrI,OAAOgI,KAAKjI,GAAZ,SAA8BsI,GAA9B,UAAgDiE,GAChD8D,EAAK9H,KAAKtI,OAAOgI,KAAKjI,GAAZ,SAA8BsI,IAGhD,OAAO+H,EDIWC,CAAetQ,EAAMuM,GACnCgE,EAAU,GACV3D,EAAQ,KAAMpH,EAAW,KAAMgL,EAAQ,KAClCC,EAAI,EAAGA,EAAIL,EAAY/P,OAAQoQ,IAAK,CACzC,IAAIC,EAAWN,EAAYK,GAAZ,SACX3H,EAAU,EAUd,GATwB,IAApB4H,EAASrQ,SAAcyI,EAAU,GACrB,IAAZA,KACA8D,EAAQ8D,EAAS,GAAGhK,MAAM,iCACrB,MAAY+J,EACbL,EAAY/P,OAAS,EACrBuM,EAAK,UAAe,EAEpBA,EAAK,UAAe,GAER,QAAhB8D,EAAS,GAAb,CAaAlL,EAAWkL,EAAS5H,GAASpC,MAAM,4BAUnC6J,GATAC,EAAQE,EAAS5H,GAASpC,MAAM,6BAUlB,OAAVkG,GAAmC,IAAjBA,EAAMvM,SACxBkQ,EAAU3D,EAAM,GAAK,MAAQA,EAAM,GAAK,IAAM2D,GAElD,IAAK,IAAI/H,EAAI,EAAGA,EAAIhD,EAASnF,OAAQmI,IACjC8D,EAAatM,EAAMuM,EAAS/G,EAASgD,GAAIgI,EAAM,GAAIA,EAAM,GAAI9D,EAAWC,EAASC,EAAOwD,EAAYK,QA5BxG,CACI,IAAIE,EAAM,oBAAsB3Q,EAAO,IAAMuM,EAAU,KAClDI,IACGlM,IAAE,WAAWmQ,GAAG,aAAYD,GAAO,MACvCA,GAAOR,EAAOnQ,KAAO,IAAMuM,EAAU,UACrC9L,IAAE,gBAAgBG,OAAO+P,GACzBlQ,IAAE,WAAWoQ,QAGjBzE,IACAtM,ME3BG,SAASgR,EAAUC,EAAO5I,GACrC,IAAKlI,OAAO+H,OAER,OADA4B,QAAQC,IAAI,uDACL,EAEX,IAAI3H,EAAMzB,IAAE,QAAQyB,MAAM8O,OACL,YAAVD,IACP7O,EAAM6O,GAEV,IAAI/Q,EAAOkC,EAAI2G,MAAM,KAAK,GAAGmI,OAE7B,GADAhR,EAAOA,EAAKiC,OAAO,EAAGjC,EAAKK,OAAS,GACxB,KAAR6B,EAEA,OADA0H,QAAQC,IAAI,mBACL,EAEN,IAAK5J,OAAOgI,KAAKC,eAAelI,GAEjC,OADA4J,QAAQC,IAAI,qBAAuB7J,IAC5B,EAEX,GAAIC,OAAOC,UAAUgI,eAAelI,GAEhC,OADAiR,MAAM,0BACC,EAEXhR,OAAOC,UAAUF,GAAQ,GAIzB,IAHA,IAAImQ,EAASlQ,OAAOgI,KAAKjI,GAErBkR,EAAYlR,EAAO,KAAOmQ,EAAM,KAC3B/P,EAAI,EAAGA,EAAIH,OAAOkR,YAAY9Q,QAAS,CAC5C,GAAIJ,OAAOkR,YAAY/Q,IAAM8Q,EAAW,CACpCjR,OAAOkR,YAAYrB,OAAO1P,EAAG,GAC7B,MAGAA,IAGR,IAAIgI,EAAQL,EAAY/H,GACxB,GAAiB,KAAbmI,EACA,IAAS/H,EAAI,EAAGA,EAAIgI,EAAK,MAAU/H,OAAQD,IAAK,CAE5C,IAAIyB,EAAOuG,EAAK,MAAUhI,GAG1BsP,EAAWS,EAFG/H,EAAMvG,GAAM,GACtBuP,EAA4C,IAAvBhJ,EAAMvG,GAAMxB,QACU,QAInD,IAASD,EAAI,EAAGA,EAAI+H,EAAS9H,OAAQD,IAAK,CACtC,IAAIgR,EAAoE,IAA/ChJ,EAAMD,EAAS/H,GAAGsG,MAAM,YAAYrG,OAC7DqP,EAAWS,EAAQhI,EAAS/H,GAAIgR,GAAmB,GAI3D3Q,IAAE,SAASoQ,OACX,IACIQ,EAAU,6BADC,oCAAsCpR,OAAOqR,MAAM,GAAb,IAAyB,YAActR,EAAKiC,OAAO,EAAG,GAAK,IAAMjC,GAC/D,qFACvDqR,GAAW,sCAAwCrR,EAAO,4EAC1D,IAAIuR,EAAU,mBAAqBtR,OAAO6C,MAAQ,IAAM9C,EAAO,WAAaA,EAAO,SAAWA,EAAO,YAAcC,OAAOgI,KAAKjI,GAAZ,KAA4B,YAAcqR,EAAU,aAevK,OAdA5Q,IAAE,eAAeC,SAAS,MAAMgI,MAAK,WACjB,OAAZ6I,GAAoBvR,EAAOS,IAAE+C,MAAMiD,KAAK,UACxChG,IAAE8Q,GAASC,aAAa/Q,IAAE+C,OAC1B+N,EAAU,SAGF,OAAZA,GACA9Q,IAAE,eAAeG,OAAO2Q,GAE5BtR,OAAOgN,YAAYjN,GAAQC,OAAO6C,MAElC7C,OAAO6C,OAAS7C,OAAO6C,MAAQ,GAAK,GACpCrC,IAAE,QAAQyB,IAAI,IACdpC,KACO,ECjFI,SAAS2R,EAAe3K,GACnC,GAAwB,qBAAb4E,QACP,OAAoC,MAA7BC,aAAa+F,QAAQ5K,GAAe,GAAK6E,aAAa+F,QAAQ5K,GAKrE,IAFA,IAAI6K,EAAO7K,EAAM,IACb8K,EAAKtP,SAAS6J,OAAOtD,MAAM,KACtBzI,EAAI,EAAGA,EAAIwR,EAAGvR,OAAQD,IAAK,CAEhC,IADA,IAAIyR,EAAID,EAAGxR,GACY,MAAhByR,EAAEC,OAAO,IAAYD,EAAIA,EAAEE,UAAU,GAC5C,IAAyB,IAArBF,EAAEG,QAAQL,GAAc,OAAOE,EAAEE,UAAUJ,EAAKtR,OAAQwR,EAAExR,QAElE,MAAO,GCZA,SAAS4R,EAAgBC,GAGpC,IAFA,IACIC,EADWlS,OAAOmS,SAASC,OAAON,UAAU,GACnBlJ,MAAM,KAC1BzI,EAAI,EAAGA,EAAI+R,EAAc9R,OAAQD,IAAK,CAC3C,IAAIkS,EAAiBH,EAAc/R,GAAGyI,MAAM,KAC5C,GAAIyJ,EAAe,KAAOJ,EACtB,OAAOI,EAAe,GAG9B,OAAO,KFFXrS,OAAOsS,aGAQ,SAAsBvS,GAC7BC,OAAOoM,SACP4E,MAAM,kCAGVxQ,IAAE,QAAUT,GAAMW,SAC0B,IAAxCF,IAAE,gBAAgBC,WAAWL,QAC7BI,IAAE,WAAW0B,OAEjB1B,IAAE,0BAA4BT,GAAM0I,MAAK,WACrC,IAAIC,EAAOlI,IAAE+C,MAAM6C,SACflD,EAAU1C,IAAEkI,GAAMlC,KAAK,WAC3BhG,IAAEkI,GAAMqC,WAAW,WACnBvK,IAAEkI,GAAMhC,YAAY,YAEpB,IADA,IAAIsD,EAAOxJ,IAAEkI,GAAMsB,OACV7J,EAAI,EAAGA,EAAI+C,EAAS/C,IACzBK,IAAEwJ,GAAMtD,YAAY,UACpBsD,EAAOxJ,IAAEwJ,GAAMA,OAEnBxJ,IAAE+C,MAAM7C,YAEZF,IAAE,gBAAkBT,GAAMW,SACqB,IAA3CF,IAAE,eAAeC,SAAS,MAAML,QAChCI,IAAE,SAAS0B,OAGflC,OAAOkR,YAAY5I,KAAKvI,EAAO,KAAOC,OAAOgI,KAAKjI,GAAZ,MACtCC,OAAOkR,YAAYqB,cACZvS,OAAOC,UAAUF,UACjBC,OAAOgN,YAAYjN,GAE1BoM,IACA7B,IAEAzK,MCnBJG,OAAOwS,OAAShS,IAChBiS,EAAQ,IAERzS,OAAOoM,UAAW,EAClBpM,OAAO6C,MAAQ,EACf7C,OAAOgN,YAAc,GACrBhN,OAAOqR,MAAQ,GACfrR,OAAOgI,KAAO,GACdhI,OAAO+H,QAAS,EAChB/H,OAAOkR,YAAc,GACrBlR,OAAOM,SAAW,KAClBN,OAAOC,UAAY,GAEnBD,OAAO0S,SAAW,wBAClB1S,OAAO+B,YAAc,2BACrB/B,OAAO+L,mBAAqB,GA8Cb9L,OA5Cf,WACIO,IAAEmS,KAAK,CACHC,OAAO,EACPvS,IAAKL,OAAO0S,SAAW,gBACvB9Q,KAAM,MACNiR,SAAU,SACXC,MAAK,SAAUC,GACd/S,OAAOgI,KAAO+K,EACd/S,OAAOqR,MAAQrR,OAAOgI,KAAP,MACfhI,OAAOM,SAAWN,OAAOqR,MAAP,QAElBrR,OAAO+H,QAAS,EAChBvH,IAAEiI,KAAKzI,OAAOgI,MAAM,SAAUnB,EAAK5E,GAC/B,GAAY,UAAR4E,GAA2B,gBAARA,EAAuB,OAAO,EACrD7G,OAAOkR,YAAY5I,KAAKzB,EAAM,KAAO5E,EAAG,SAE5CpC,IAEAW,IAAE,QAAQwS,aAAa,CAEnBC,OAAQjT,OAAOkR,YACfgC,UAAW,EACXC,MAAO,SAAU7R,EAAOsN,GACpBtN,EAAME,kBAEVW,OAAQ,SAAUb,EAAOsN,GACrBtN,EAAME,iBACNqP,EAAUjC,EAAGwE,KAAK9O,MAAO,OAE9B6O,OAAM,WACL3S,IAAE+C,MAAMyP,aAAa,SAAU,OAEnCxS,IAAE,QAAQa,OAAM,WACZb,IAAE+C,MAAMyP,aAAa,SAAUxS,IAAE+C,MAAMtB,UAG3CzB,IAAE,gBAAgB6S,KAAKrT,OAAOgI,KAAP,aACvBxH,IAAE,aAAa6S,KAAKrT,OAAOqR,MAAP,cCtEb,WACX,IAAIvR,EAAe,GACkB,OAAjCkS,EAAgB,aACQA,EAAgB,aACfhS,OAAOqR,MAAP,aACrBvR,EAAekS,EAAgB,aAC/BhS,OAAOoM,UAAW,EAClB5L,IAAE,aAAa0B,QAGflC,OAAOmS,SAAShF,QAAQnN,OAAO+B,cAIXyP,EAAe,uBACdxR,OAAOqR,MAAP,cACrBvR,EAAe0R,EAAe,cAElChR,IAAE,aAAaoQ,QAEnB9Q,EAAewT,mBAAmBxT,GAClCU,IAAE,YAAY0B,OAEd,IADA,IAAIqR,EAAMzT,EAAa8I,MAAM,KACpBzI,EAAI,EAAGA,EAAIoT,EAAInT,OAAQD,IAC5B,GAAe,KAAXoT,EAAIpT,GAAR,CACA,IAAIqT,EAAKD,EAAIpT,GAAGyI,MAAM,KACtBiI,EAAU2C,EAAG,GAAIA,EAAG,GAAG5K,MAAM,MAEjCpI,IAAE,YAAYoQ,OACdpQ,IAAE,YAAY0B,OACVlC,OAAOoM,UACP5L,IAAE,qBAAqBsM,UAAU,WACjCtM,IAAE,WAAW6O,IAAI,SAAU,WAC3B7O,IAAE,OAAOkK,OAAO,oBAAoB+I,QAAQ,KAAK7C,OACjDpQ,IAAE,QAAQyB,IAAI,yCACdzB,IAAE,QAAQkT,KAAK,YAAY,IAG3BlT,IAAE,QAAQmT,QAAQ,YDkClBC,GACAtJ,Q,oBEfOuJ,I,wMA5CPrT,IAAE6B,UAAUyR,QAAQ,CAChBC,SAAU,CACNC,GAAI,iBACJC,GAAI,kBAERC,aAAcjT,KAAOkT,qBAGzBC,O,+BAYA,OACI,oCACI,kBAAC,EAAD,MACA,yBAAKrT,UAAWE,KAAO0D,WACnB,yBAAKjD,GAAG,oBAAoBX,UAAWC,YAAKC,KAAOoT,iBAAkBpT,KAAOqT,WACxE,yBAAK5S,GAAG,WAAWX,UAAWE,KAAOmL,UACjC,0BAAM5I,MAAM,sBAAZ,cAEJ,yBAAK9B,GAAG,UAAUkB,MAhBV,CACpB2R,QAAS,QACTlR,MAAO,IACPmR,OAAQ,SACRC,WAAY,GACZ3R,SAAU,KAYM,6CAEJ,kBAAC,EAAD,OAEJ,yBAAK/B,UAAU,WACX,kBAAC,EAAD,MACA,kBAAC,EAAD,OAEJ,kBAAC,EAAD,Y,GAvCFkE,IAAMC,gBCNJwP,QACW,cAA7B1U,OAAOmS,SAASwC,UAEe,UAA7B3U,OAAOmS,SAASwC,UAEhB3U,OAAOmS,SAASwC,SAASlO,MACvB,2DCZNmO,IAASC,OAAO,kBAAC,GAAD,MAASxS,SAASyS,eAAe,SD6H3C,kBAAmBC,WACrBA,UAAUC,cAAcC,MAAMC,MAAK,SAAAC,GACjCA,EAAaC,kB","file":"static/js/main.76dab028.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"aside\":\"Aside_aside__3tOh5\",\"shareLinkInput\":\"Aside_shareLinkInput__17WQ3\",\"copyResult\":\"Aside_copyResult__n20eV\",\"faqButton\":\"Aside_faqButton__bghCv\",\"lastUpdate\":\"Aside_lastUpdate__14c0X\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"App_container__16xwv\",\"customTooltipStyle\":\"App_customTooltipStyle__3aNaI\",\"timetableWrapper\":\"App_timetableWrapper__D3iit\",\"noSelect\":\"App_noSelect__6Cv3t\",\"readMode\":\"App_readMode__3YI_6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__1QYfQ\",\"container\":\"Header_container__3MpvB\",\"logo\":\"Header_logo__1FJju\",\"siteName\":\"Header_siteName__1Yb1g\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchBar\":\"SearchBar_searchBar__3QjrG\",\"termInfo\":\"SearchBar_termInfo__38hRZ\",\"input\":\"SearchBar_input__2jK8Y\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__1rhdk\",\"text\":\"Button_text__2twUf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"timetableControls\":\"CourseInfoSection_timetableControls__1OOKX\",\"none\":\"CourseInfoSection_none__3ZgoL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"faq\":\"Faq_faq__5FPd2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"separator\":\"TimetableSeparator_separator__Tw8wk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"timetable\":\"Timetable_timetable__2JsCh\",\"time\":\"Timetable_time__3ygG4\",\"weekday\":\"Timetable_weekday__3dmdS\",\"timesTr\":\"Timetable_timesTr__3kdMp\",\"alt\":\"Timetable_alt__Amp7i\",\"timeDiv\":\"Timetable_timeDiv__8ku6W\"};","import $ from 'jquery';\n\nexport default function getURL() {\n    var timetableStr = \"\";\n    for (var code in window.timetable) {\n        var sectionStr = \"\";\n        for (var i = 0; i < window.timetable[code].length; i++) {\n            if (i !== 0) sectionStr += \",\";\n            sectionStr += window.timetable[code][i];\n        }\n        timetableStr += code + \":_\" + sectionStr + \"!\";\n    }\n    var url = \"./?semester=\"+window.semester[\"num\"]+\"&timetable=\" + encodeURIComponent(timetableStr);\n    $(\"#dialog\").children().remove();\n    $(\"#dialog\").append(\"<a href='\" + url + \"' target='_blank'><button id='readmodebtn' style='width: 120px;'>READ-ONLY</button></a>\");\n    $(\"#readmodebtn\").button();\n    return url;\n}\n","import React from 'react';\nimport clsx from 'clsx';\n\nimport styles from './Button.module.css';\n\nconst Button = (props) => {\n    return (\n        <button\n            {...props}\n            className={clsx(styles.button, props.className)}\n        >\n            <span className={styles.text}>\n                {props.children}\n            </span>\n        </button>\n    )\n};\n\nexport default Button;\n","import React, { useEffect } from 'react';\n\nimport getShareLink from '../timetable/getShareLink';\n\nimport Button from './Button';\n\nimport styles from './Aside.module.css';\n\n// jQuery stuffs, should be removed in the future.\nimport $ from 'jquery';\n\nconst Aside = () => {\n    useEffect(() => {\n        // Link to open the dialog\n        $(\"#show-faq\").click(function (event) {\n            $(\"#faq\").dialog(\"open\");\n            event.preventDefault();\n        });\n    });\n\n    return (\n        <div className={styles.aside}>\n            <div id=\"dialog\" />\n            <div>\n                <p>\n                    <input\n                        id=\"shareLinkInput\"\n                        className={styles.shareLinkInput}\n                        type=\"text\"\n                    />\n                </p>\n                <p className={styles.copyResult} id=\"copyResult\"></p>\n                <p><Button onClick={() => getShareLink()}>Get Share Link</Button></p>\n                <p>\n                    <Button id=\"show-faq\" className={styles.faqButton}>\n                        Show FAQ\n                    </Button>\n                </p>\n            </div>\n            <div>\n                <p className={styles.lastUpdate}>\n                    {`Data Last Updated: `}\n                    <br />\n                    <span id=\"update-time\" />\n                </p>\n            </div>\n        </div>\n    );\n};\n\nexport default Aside;\n","import $ from 'jquery';\n\nimport getURL from './getURL';\n\nexport default function getShareLink() {\n    var url = getURL();\n    url = window.CLIENT_PATH + url.substr(2);\n    $(\"#shareLinkInput\").val(url).show().select();\n    var failmsg = \"Press CTRL+C (Windows) to Copy.\";\n    try {\n        var successful = document.execCommand('copy');\n        if (successful) $(\"#copyResult\").text('Auto Copied to Clip Board.');\n        else $(\"#copyResult\").text(failmsg);\n    } catch (e) {\n        $(\"#copyResult\").text(failmsg);\n    }\n}\n","import React from 'react';\n\nimport styles from './CourseInfoSection.module.css';\n\nconst CourseInfoSection = (props) => {\n    return (\n        <>\n            <div\n                style={{\n                    color: 'gray',\n                    fontSize: 14,\n                    marginLeft: 50,\n                }}\n            >\n                {`Courses with \"TBA\" date & time: `}\n                <span id=\"no-tba\">None</span>\n                <span id=\"tba-courses\"></span>\n            </div>\n            <table id=\"timetable_controls\" className={styles.timetableControls}>\n                <thead>\n                <tr>\n                    <th>Code</th>\n                    <th>Title</th>\n                    <th>Actions</th>\n                </tr>\n                <tr id=\"none\" className={styles.none}>\n                    <td colspan=\"3\">No courses added.</td>\n                </tr>\n                </thead>\n                <tbody id=\"courselist\">\n                </tbody>\n            </table>\n        </>\n    );\n};\n\nexport default CourseInfoSection;\n","import React, { useEffect } from 'react';\n\n// jQuery stuffs, should be removed in the future.\nimport $ from 'jquery';\nimport 'jquery-ui/themes/base/button.css';\nimport 'jquery-ui/themes/base/dialog.css';\nimport 'jquery-ui/ui/widgets/dialog';\n\nimport styles from './Faq.module.css';\n\nconst Faq = (props) => {\n    useEffect(() => {\n        // UI stuff\n        $('#faq').dialog({\n            autoOpen: false,\n            width: 800,\n            buttons: [\n                {\n                    text: 'Close',\n                    click: function () {\n                        $(this).dialog('close');\n                    }\n                }\n            ]\n        });\n    });\n\n    return (\n        <div\n            title=\"FAQ\"\n            id=\"faq\"\n            className={styles.faq}\n        >\n            <p>\n                <strong>Q:</strong> Is data always up-to-date?<br />\n                <strong>A:</strong> No, data have to be manually updated by running <a rel=\"noopener noreferrer\" target=\"_blank\" href=\"//coust.442.hk/json/mkdata.php\">this page</a> to obtain and save data from <a rel=\"noopener noreferrer\" target=\"_blank\" href=\"https://w5.ab.ust.hk/wcq/cgi-bin/\">HKUST Class Schedule and Quota</a> by crawling and parsing the website, i.e. data are correct up to the latest time of running the data retrieving page.<br />\n            </p>\n            <p>\n                <strong>Q:</strong> What is READ-ONLY Mode?<br />\n                <strong>A:</strong> In READ-ONLY Mode, you can only view the timetable. And your original timetable in non read mode will not be affected. You may exit read mode and view your own timetable by clicking the logo (which returns to the home page).<br />\n            </p>\n            <p>\n                <strong>Q:</strong> Does the web app supports all browsers?<br />\n                <strong>A:</strong> No, the web app uses jQuery and thus requires browser version supporting jQuery (e.g. IE9+).<br />\n            </p>\n            <p>\n\t\t\t    <strong>If you any enquires, please find us on <a href=\"https://www.facebook.com/CoUST.HK\">our Facebook page</a>.</strong><br />\n\t\t\t</p>\n            <p>\n                <strong>GitHub:</strong> <a rel=\"noopener noreferrer\" target=\"_blank\" href=\"https://github.com/antonytse/CoUST\">https://github.com/antonytse/CoUST</a><br />\n            </p>\n            <p>\n                <strong>Authors:</strong> Alan Chung, Antony Tse<br />\n            </p>\n        </div>\n    );\n};\n\nexport default Faq;\n","import React, { useState } from 'react';\n\nimport styles from './SearchBar.module.css';\n\nconst SearchBar = () => {\n    const [inputValue, setInputValue] = useState('');\n\n    const handleSubmit = (event) => {\n        event.preventDefault();\n    }\n\n    return (\n        <div className={styles.searchBar}>\n            <form onSubmit={handleSubmit}>\n                <ul>\n                    <li className={styles.termInfo} id=\"termInfo\">Loading...</li>\n                    <li>\n                        <input\n                            className={styles.input}\n                            id=\"add\"\n                            type=\"text\"\n                            placeholder=\"Add Courses to Timetable\"\n                            value={inputValue}\n                            onChange={(event) => setInputValue(event.target.value)}\n                            onBlur={() => setInputValue('')}\n                        />\n                    </li>\n                </ul>\n            </form>\n        </div>\n    );\n};\n\nexport default SearchBar;\n","import React from 'react';\r\n\r\nimport SearchBar from './SearchBar';\r\n\r\nimport styles from './Header.module.css';\r\n\r\nconst Header = () => {\r\n    return (\r\n        <header className={styles.header}>\r\n            <div className={styles.container}>\r\n                <a className={styles.logo} href=\".\">\r\n                    <span className={styles.siteName}>CoUST</span>\r\n                </a>\r\n                <SearchBar />\r\n            </div>\r\n        </header>\r\n    );\r\n};\r\n\r\nexport default Header;\r\n","import React from 'react';\r\n\r\nimport styles from './TimetableSeparator.module.css';\r\n\r\nexport default class TimetableSeparator extends React.PureComponent {\r\n    render() {\r\n        return (\r\n            <tr className={styles.separator}>\r\n                <th />\r\n                <td colSpan={28} />\r\n            </tr>\r\n        );\r\n    }\r\n}\r\n","import React from 'react';\r\nimport clsx from 'clsx';\r\n\r\nimport TimetableSeparator from './TimetableSeparator';\r\n\r\nimport styles from './Timetable.module.css';\r\n\r\n// jQuery stuffs, should be removed in the future.\r\nimport $ from 'jquery';\r\n\r\nfunction twoDigits(hour) {\r\n    return (`${hour}`.length === 1) ? `0${hour}` : `${hour}`;\r\n}\r\n\r\nexport default class Timetable extends React.PureComponent {\r\n    hours = [9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23];\r\n    weekdays = {\r\n        Mo: 'MON',\r\n        Tu: 'TUE',\r\n        We: 'WED',\r\n        Th: 'THU',\r\n        Fr: 'FRI',\r\n        Sa: 'SAT',\r\n        Su: 'SUN',\r\n    };\r\n\r\n    timetable = React.createRef();\r\n\r\n    componentDidMount() {\r\n        const timetableEl = this.timetable.current;\r\n\r\n        $(timetableEl).on('mouseover mouseleave', 'td', function (e) {\r\n            if (e.target.className === \"separator\" || e.target.className === \"times-tr\"\r\n                || e.target.className === \"timediv\" || e.target.className === \"time\") {\r\n\r\n            }\r\n            else if (e.type === 'mouseover') {\r\n                var $el = $(this);\r\n                $el.parent().parent().find(\"td\").addClass(\"hover\"); // weekday\r\n                var hour_class = $el.attr(\"class\").match(/h[0-2][0-9]/i);\r\n                if (hour_class) $(\".\" + hour_class).addClass(\"hover\");\r\n\r\n            }\r\n            else {\r\n                var $el = $(this);\r\n                $el.parent().parent().find(\"td\").removeClass(\"hover\"); // weekday\r\n                var hour_class = $el.attr(\"class\").match(/h[0-2][0-9]/i);\r\n                if (hour_class) $(\".\" + hour_class).removeClass(\"hover\");\r\n\r\n            }\r\n        });\r\n    }\r\n\r\n    _renderHour(hour, index) {\r\n        return (\r\n            <React.Fragment key={index}>\r\n                <th className={styles.time}>\r\n                    <div className={styles.timeDiv}>{twoDigits(hour)}:00</div>\r\n                </th>\r\n                <th className={clsx(styles.time, styles.alt)}>\r\n                    <div className={styles.timeDiv}>\r\n                        {twoDigits(hour)}:30\r\n                    </div>\r\n                </th>\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    _renderWeekday(weekdayId, index) {\r\n        return (\r\n            <React.Fragment key={index}>\r\n                <tbody id={weekdayId} className={clsx(styles.days, 'days')}>\r\n                    <tr>\r\n                        <th className={clsx(styles.weekday, 'weekday')} rowSpan={1}>\r\n                            {this.weekdays[weekdayId]}\r\n                        </th>\r\n                        {this.hours.map((hour, index) => ((hour === 23) ? null : (\r\n                            <React.Fragment key={index}>\r\n                                <td className={`h${twoDigits(hour)} m00`} />\r\n                                <td className={`h${twoDigits(hour)} m30`} />\r\n                            </React.Fragment>\r\n                        )))}\r\n                    </tr>\r\n                </tbody>\r\n                {(index < this.weekdays.size - 1) ? null : <TimetableSeparator />}\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <table\r\n                ref={this.timetable}\r\n                id=\"timetable\"\r\n                className={clsx(styles.timetable, 'content')}\r\n            >\r\n                <colgroup />\r\n                {this.hours.map((hour, index) => (\r\n                    <colgroup key={index} span={2} />\r\n                ))}\r\n                <tbody>\r\n                    <tr className={styles.timesTr}>\r\n                        {this.hours.map((hour, index) => this._renderHour(hour, index))}\r\n                    </tr>\r\n                </tbody>\r\n                {Object.keys(this.weekdays).map((weekdayId, index) => this._renderWeekday(weekdayId, index))}\r\n            </table>\r\n        );\r\n    }\r\n}\r\n","export default function getSections(code) {\n    if (!window.loaded) {\n        return null;\n    }\n    if (!window.data.hasOwnProperty(code)) {\n        return null;\n    }\n    var course = window.data[code];\n    var sections = course[\"sections\"];\n    var types = {};\n    for (var i = 0; i < sections.length; i++) {\n        var type = sections[i][\"section\"].match(/[A-Za-z]+/i);\n        if (typeof types[type] === \"undefined\") {\n            types[type] = [];\n        }\n        var duplicate = false;\n        for (var j = 0; j < types[type].length; j++) {\n            if (sections[i][\"section\"] === types[type][j]) {\n                duplicate = true;\n            }\n        }\n        if (!duplicate) {\n            types[type].push(sections[i][\"section\"]);\n        }\n    }\n    var keys = [];\n    for (var k in types) {\n        keys.push(k);\n    }\n    types[\"types\"] = keys;\n    return types;\n}\n","import $ from 'jquery';\n\nexport default function updateConflictStyle() {\n    // update time conflict shadows\n    $.each($(\".occupied\"), function () {\n        var cell = $(this);\n        var code = $(cell).children(\"div.lesson\").eq(0).attr('name').split(\"_\")[0];\n        var hasDate = $(cell).children(\"div.lesson\").eq(0).attr('datestart') !== \"\"\n            && $(cell).children(\"div.lesson\").eq(0).attr('dateend') !== \"\";\n        var date_start = null, date_end = null;\n        if (hasDate) {\n            date_start = new Date($(cell).children(\"div.lesson\").eq(0).attr('datestart'));\n            date_end = new Date($(cell).children(\"div.lesson\").eq(0).attr('dateend'));\n        }\n        var weekday = $(cell).parentsUntil(\"tbody\").parent().attr(\"id\");\n        var h = $(cell).attr('class').match(/h[0-9]{2}/i);\n        var m = $(cell).attr('class').match(/m[0-9]{2}/i);\n        var hasConflict = false;\n        var oCount = $(\"#\" + weekday + \" .\" + h + \".\" + m + \".occupied\").length;\n        var hCount = $(\"#\" + weekday + \" .\" + h + \".\" + m + \".hidden\").length;\n        if (oCount !== 1 || hCount > 0) {\n            if (!hasDate) hasConflict = true;\n            else {\n                var conflictCourses = $.makeArray($(\"#\" + weekday + \" .\" + h + \".\" + m + \".occupied\"));\n                $.each($(\"#\" + weekday + \" .\" + h + \".\" + m + \".hidden\"), function () {\n                    conflictCourses.push($(this).prevUntil('.occupied').prev());\n                });\n                console.log(conflictCourses)\n                for (var i = 0; i < conflictCourses.length && !hasConflict; i++) {\n                    var course_div = $(conflictCourses[i]).children(\"div.lesson\").eq(0);\n                    var $course_div = $(course_div);\n                    if (!$course_div.attr(\"name\") || code === $course_div.attr('name').split(\"_\")[0]) continue;\n                    var c_hasDate = $(course_div).attr('datestart') !== \"\" && $(course_div).attr('dateend') !== \"\";\n                    var c_date_start = null, c_date_end = null;\n                    if (c_hasDate) {\n                        c_date_start = new Date($(course_div).attr('datestart'));\n                        c_date_end = new Date($(course_div).attr('dateend'));\n                        if (!(+date_start >= +c_date_end || +date_end <= +c_date_start)) {\n                            hasConflict = true;\n                        }\n                    }\n                    else {\n                        hasConflict = true;\n                    }\n                }\n            }\n        }\n        var next = $(cell).next();\n        while ($(next).hasClass('hidden') && !hasConflict) {\n            h = $(next).attr('class').match(/h[0-9]{2}/i);\n            m = $(next).attr('class').match(/m[0-9]{2}/i);\n            oCount = $(\"#\" + weekday + \" .\" + h + \".\" + m + \".occupied\").length;\n            hCount = $(\"#\" + weekday + \" .\" + h + \".\" + m + \".hidden\").length;\n            if (oCount > 0 || hCount !== 1) {\n                if (!hasDate) hasConflict = true;\n                else {\n                    var conflictCourses = $.makeArray($(\"#\" + weekday + \" .\" + h + \".\" + m + \".occupied\"));\n                    $.each($(\"#\" + weekday + \" .\" + h + \".\" + m + \".hidden\"), function () { // eslint-disable-line no-loop-func\n                        conflictCourses.push($(this).prevAll('.occupied').eq(0));\n                    });\n                    for (var i = 0; i < conflictCourses.length && !hasConflict; i++) {\n                        var course_div = $(conflictCourses[i]).children(\"div.lesson\").eq(0);\n                        if (code === $(course_div).attr('name').split(\"_\")[0]) continue;\n                        var c_hasDate = $(course_div).attr('datestart') !== \"\" && $(course_div).attr('dateend') !== \"\";\n                        var c_date_start = null, c_date_end = null;\n                        if (c_hasDate) {\n                            c_date_start = new Date($(course_div).attr('datestart'));\n                            c_date_end = new Date($(course_div).attr('dateend'));\n                            if (!(+date_start >= +c_date_end || +date_end <= +c_date_start)) {\n                                hasConflict = true;\n                            }\n                        }\n                        else {\n                            hasConflict = true;\n                        }\n                    }\n                }\n            }\n            next = $(next).next();\n        }\n        $(cell).children('.lesson').removeClass('time-conflict');\n        if (hasConflict) $(cell).children('.lesson').addClass('time-conflict');\n    });\n}\n","import $ from 'jquery';\n\n// row: tr element object\nexport default function emptyRow(row) {\n    var empty = true;\n    $(row).children(\"td\").each(function () {\n        if ($(this).hasClass(\"occupied\") || $(this).hasClass(\"hidden\")) {\n            empty = false;\n        }\n    });\n    return empty;\n}\n","import $ from 'jquery';\n\nimport emptyRow from './emptyRow';\nimport updateConflictStyle from './updateConflictStyle';\n\n// remove empty row\nexport default function compactTable() {\n    // shift course box to upper rows if space available\n    $(\".days\").each(function () {\n        var rowcount = $(this).children(\"tr\").length;\n        for (var rowN = 0; rowN < rowcount - 1 && rowcount > 1; rowN++) {\n            var upperRow = $(this).children(\"tr\").eq(rowN);\n            for (var i = rowN + 1; i < rowcount; i++) {\n                var row = $(this).children(\"tr\").eq(i);\n                $.each($(row).children(\"td\").filter(\".occupied\"), function () { // eslint-disable-line no-loop-func\n                    var sh = $(this).attr('class').match(/h[0-9]{2}/i);\n                    var sm = $(this).attr('class').match(/m[0-9]{2}/i);\n                    var upperRowHasRoom = true;\n                    if ($(upperRow).find(\".\" + sh + \".\" + sm).hasClass('occupied')\n                        || $(upperRow).find(\".\" + sh + \".\" + sm).hasClass('hidden')) {\n                        upperRowHasRoom = false;\n                    }\n                    var next = $(this).next();\n                    while ($(next).hasClass('hidden') && upperRowHasRoom) {\n                        var h = $(next).attr('class').match(/h[0-9]{2}/i);\n                        var m = $(next).attr('class').match(/h[0-9]{2}/i);\n                        if ($(upperRow).find(\".\" + h + \".\" + m).hasClass('occupied')\n                            || $(upperRow).find(\".\" + h + \".\" + m).hasClass('hidden')) {\n                            upperRowHasRoom = false;\n                        }\n                        next = $(next).next();\n                    }\n                    if (upperRowHasRoom) {\n                        var courseDiv = $(this).children('.lesson').eq(0);\n                        var colspan = $(this).attr('colspan');\n                        $(this).removeAttr('colspan');\n                        var cell = $(upperRow).find(\".\" + sh + \".\" + sm);\n                        $(cell).addClass('occupied');\n                        $(cell).attr('colspan', colspan)\n                        $(cell).append(courseDiv);\n                        var next = $(this).next();\n                        while ($(next).hasClass('hidden')) {\n                            cell = $(cell).next();\n                            $(cell).addClass('hidden');\n                            $(next).removeClass('hidden');\n                            next = $(next).next();\n                        }\n                        $(this).children('.lesson').remove();\n                        $(this).removeClass('occupied');\n                    }\n                });\n            }\n        }\n    });\n\n    // clear empty rows\n    $(\".days\").each(function () {\n        var weekth = $(\"#\" + $(this).attr(\"id\") + \" .weekday\");\n        var rowspan = parseInt($(weekth).attr(\"rowspan\"), 10);\n        var rowcount = $(this).children(\"tr\").length;\n        if (rowcount > 1) {\n            for (var i = 1; i < rowcount; i++) {\n                var row = $(this).children(\"tr\").eq(i);\n                if (emptyRow(row)) {\n                    $(row).addClass(\"remove\");\n                    rowspan--;\n                }\n            }\n            $(weekth).attr(\"rowspan\", rowspan);\n            $(\"tr.remove\").remove();\n            var firstRow = $(this).children(\"tr\").eq(0);\n            if (emptyRow(firstRow) && $(this).children(\"tr\").length > 1) {\n                rowspan--;\n                $(weekth).attr(\"rowspan\", rowspan);\n                $(this).children(\"tr\").eq(1).prepend($(weekth));\n                $(firstRow).remove();\n            }\n        }\n    });\n\n    // clear time-conflict class\n    $(\".days\").each(function () {\n        var rowcount = $(this).children(\"tr\").length;\n        if (rowcount === 1) {\n            $(this).find('.time-conflict').removeClass('time-conflict');\n        }\n    });\n    var sat_empty = true;\n    $(\"#Sa\").children(\"tr\").each(function () {\n        if (!emptyRow($(this))) {\n            sat_empty = false;\n            return false;\n        }\n    });\n    if (sat_empty) $(\"#Sa\").removeClass(\"hidden\").addClass(\"hidden\");\n    var sun_empty = true;\n    $(\"#Su\").children(\"tr\").each(function () {\n        if (!emptyRow($(this))) {\n            sun_empty = false;\n            return false;\n        }\n    });\n    if (sun_empty) $(\"#Su\").removeClass(\"hidden\").addClass(\"hidden\");\n\n    // add a spare tr to each weekday if only one row\n    $(\".days\").each(function () {\n        var rowcount = $(this).children(\"tr\").length;\n        if (rowcount === 1) {\n            $(this).children(\"tr\").find(\"th.weekday\").attr(\"rowspan\", 2);\n            $(this).append('<tr class=\"spare-tr\"><td class=\"h09 m00\"></td><td class=\"h09 m30\"></td><td class=\"h10 m00\"></td><td class=\"h10 m30\"></td><td class=\"h11 m00\"></td><td class=\"h11 m30\"></td><td class=\"h12 m00\"></td><td class=\"h12 m30\"></td><td class=\"h13 m00\"></td><td class=\"h13 m30\"></td><td class=\"h14 m00\"></td><td class=\"h14 m30\"></td><td class=\"h15 m00\"></td><td class=\"h15 m30\"></td><td class=\"h16 m00\"></td><td class=\"h16 m30\"></td><td class=\"h17 m00\"></td><td class=\"h17 m30\"></td><td class=\"h18 m00\"></td><td class=\"h18 m30\"></td><td class=\"h19 m00\"></td><td class=\"h19 m30\"></td><td class=\"h20 m00\"></td><td class=\"h20 m30\"></td><td class=\"h21 m00\"></td><td class=\"h21 m30\"></td><td class=\"h22 m00\"></td><td class=\"h22 m30\"></td></tr>');\n        }\n    });\n\n    updateConflictStyle();\n}\n","import $ from 'jquery';\n\nimport compactTable from './compactTable';\n\nexport default function removeVirtualCourse(code) {\n    $(\"td.occupied div.lesson.virtual.\" + code).each(function () {\n        var cell = $(this).parent();\n        var colspan = $(cell).attr(\"colspan\");\n        $(cell).removeAttr(\"colspan\");\n        $(cell).removeClass(\"occupied\");\n        var next = $(cell).next();\n        for (var i = 1; i < colspan; i++) {\n            $(next).removeClass(\"hidden\");\n            next = $(next).next();\n        }\n        $(this).remove();\n    });\n    compactTable();\n}\n","export default function storeValue(key, value) {\n    if (typeof(Storage) !== \"undefined\") {\n        localStorage.setItem(key, value);\n    }\n    else {\n        var d = new Date();\n        d.setTime(d.getTime() + (window.COOKIE_EXPIRE_DAYS * 24 * 60 * 60 * 1000));\n        var expires = \"expires=\" + d.toGMTString();\n        document.cookie = key + \"=\" + value + \"; \" + expires;\n    }\n}\n","import storeValue from './storeValue';\n\nexport default function saveTimetableToStorage() {\n    if (window.readMode) return; // reading others timetable\n    var timetableStr = \"\";\n    for (var code in window.timetable) {\n        var sectionStr = \"\";\n        for (var i = 0; i < window.timetable[code].length; i++) {\n            if (i !== 0) sectionStr += \",\";\n            sectionStr += window.timetable[code][i];\n        }\n        timetableStr += code + \":_\" + sectionStr + \"!\";\n    }\n    storeValue(\"timetable\", encodeURIComponent(timetableStr));\n    storeValue(\"timetable-semester\", window.semester[\"num\"]);\n}\n","import $ from 'jquery';\n\nimport addSection from './addSection';\nimport addVirtualCourse from './addVirtualCoruse';\nimport getURL from './getURL';\nimport removeSection from './removeSection';\nimport removeVirtualCourse from './removeVirtualCourse';\nimport saveTimetableToStorage from './saveTimetableToStorage';\nimport setTimeConflict from './setTimeConflict';\nimport updateConflictStyle from './updateConflictStyle';\n\n// create the course box in timetable\nexport default function addCourseBox(code, section, weekday, start, end, singleton, virtual, dates, sectionObj) {\n    if ($(\"#\" + weekday).hasClass(\"hidden\")) {\n        $(\"#\" + weekday).removeClass(\"hidden\");\n    }\n    var colorText = \"color\" + window.color;\n    var draggable = \"\";\n    if (!singleton) {\n        draggable = \"draggable\";\n    }\n    var virtualbox = \"real\";\n    if (virtual) {\n        virtualbox = \"virtual\";\n        colorText = $(\"div.lesson.real.\" + code).attr(\"class\").match(/color[0-9]+/i);\n    }\n    if (window.courseColor.hasOwnProperty(code)) {\n        colorText = \"color\" + window.courseColor[code];\n    }\n    var title = start + \" - \" + end;\n    var datePeriodText = \"\", dateInfo = \"\";\n    var NEWLINE = \"&#10;\";\n    if (dates) {\n        title = dates[0] + \" - \" + dates[1] + NEWLINE + title;\n        if (dates['multiple']) datePeriodText = \" [\" + dates['index'] + \"]\";\n        dateInfo = \"datestart='\" + dates[0] + \"' dateend='\" + dates[1] + \"'\";\n    }\n    else {\n        dateInfo = \"datestart='' dateend=''\";\n    }\n    dateInfo = dateInfo.replace(\"-\", \" \");\n    var room = sectionObj[\"room\"];\n    if (room == \"TBA\") room = \"Rm: TBA\";\n    var roomShort = room.replace(/, Lift [0-9]+((-|,)( )*[0-9]+)?/gi, \"\");\n    roomShort = roomShort.replace(/\\([0-9]+\\)/gi, \"\");\n    roomShort = roomShort.replace(/Lecture Theater /gi, \"LT\");\n    roomShort = roomShort.replace(/, [A-Z ]+/gi, \"\");\n    title += NEWLINE + room + NEWLINE + \"Instructor: \";\n    if (sectionObj[\"instructor\"].length === 0) sectionObj[\"instructor\"].push(\"TBA\");\n    if (sectionObj[\"instructor\"].length === 1) title += sectionObj[\"instructor\"][0];\n    else for (var instr = 0; instr < sectionObj[\"instructor\"].length; instr++) {\n        title += NEWLINE + \" - \" + sectionObj[\"instructor\"][instr];\n    }\n    var htmldiv = \"<div \" + dateInfo + \" title='\" + title + \"' name='\" + code + \"_\" + section + \"' class='\" + colorText + \" lesson \" + draggable + \" \" + virtualbox + \" \" + code + \" \" + section + \"'><div>\" + code + \"<br/>\" + section + datePeriodText + \"<br/>\" + roomShort + \"</div></div>\";\n    var start_time = parseInt(start.substr(0, 2).concat(start.substr(3, 2)), 10);\n    if (start.substr(5, 2) === \"PM\" && start.substr(0, 2) !== \"12\") {\n        start_time += 1200;\n    }\n    var end_time = parseInt(end.substr(0, 2) + end.substr(3, 2), 10);\n    if (end.substr(5, 2) === \"PM\" && end.substr(0, 2) !== \"12\") {\n        end_time += 1200;\n    }\n    var starth = Math.floor(start_time / 100);\n    var startm = start_time % 100;\n    var endh = Math.floor(end_time / 100);\n    var endm = end_time % 100;\n    var h = \"h\".concat((starth < 10) ? (\"0\".concat(starth)) : starth);\n    var tmp = Math.ceil(startm / 30) * 30 % 60;\n    var m = \"m\".concat(tmp < 10 ? \"0\".concat(tmp) : tmp);\n    var spancount = Math.ceil((endh * 60 + endm - starth * 60 - startm) / 30);\n    var added = false;\n    var hasConflict = false;\n    $(\"#\" + weekday).children(\"tr\").each(function () {\n        if (added) return false; // break the loop\n        var cell = $(this).children(\"td.\" + h + \".\" + m).eq(0);\n        if ($(cell).hasClass(\"occupied\") || $(cell).hasClass(\"hidden\")) {\n            // skip this row as the cell is being ocuppied\n            hasConflict = true;\n        }\n        else {\n            // check if all cells needed are available\n            var avail = true;\n            var nextcell = $(cell).next();\n            for (var i = 1; i < spancount; i++) {\n                if ($(nextcell).hasClass(\"occupied\") || $(nextcell).hasClass(\"hidden\")) {\n                    avail = false;\n                }\n                nextcell = $(nextcell).next();\n            }\n            // add the course box if all cells available\n            if (avail) {\n                $(cell).append(htmldiv);\n                $(cell).addClass(\"occupied\");\n                $(cell).attr(\"colspan\", spancount);\n                // hide the next few cells\n                var next = $(cell).next();\n                for (var i = 1; i < spancount; i++) {\n                    $(next).addClass(\"hidden\");\n                    next = $(next).next();\n                }\n                added = true;\n                if (!virtual) {\n                    // atach jQuery draggable\n                    if (!singleton) {\n                        var realcell = $(\"div.lesson.real.\" + code + \".\" + section);\n                        $(realcell).draggable({\n                            appendTo: \"body\",\n                            helper: \"clone\",\n                            start: function (event, ui) {\n                                var lessontd = $(realcell).eq(0).parentsUntil(\"td\").parent();\n                                var lessondiv = $(realcell).eq(0);\n                                $(ui.helper).css(\"width\", $(lessondiv).outerWidth());\n                                $(ui.helper).css(\"height\", $(lessondiv).outerHeight());\n                                $(ui.helper).addClass(\"move\");\n                                $(ui.helper).removeAttr(\"title\");\n                                addVirtualCourse(code, section);\n                            },\n                            stop: function (event, ui) {\n                                if ($(\"div.lesson.toadd.\" + code).length > 0) {\n                                    var new_section = $(\"div.lesson.toadd.\" + code).eq(0).attr(\"name\").split(\"_\")[1];\n                                    // remove virtual class of new section\n                                    //$(\"div.lesson.virtual.\"+code+\".\"+new_section).removeClass(\"virtual\").addClass(\"real\").addClass(\"toadd\");\n                                    // remove virtual sections\n                                    removeVirtualCourse(code);\n                                    // remove orginal section\n                                    removeSection(code, section);\n                                    // add new section\n                                    addSection(window.data[code], new_section, singleton, false);\n                                }\n                                else {\n                                    removeVirtualCourse(code);\n                                }\n                            }\n                        });\n                    }\n                }\n                else { // virtual\n                    // attach jQuery droppable\n                    var $virtualcell = $(\"div.lesson.virtual.\" + code + \".\" + section);\n                    $virtualcell.droppable({\n                        drop: function () {\n                            // drop() of droppable fires before stop() of draggable\n                            $virtualcell.addClass(\"toadd\");\n                            $virtualcell.removeClass(\"virtual-hover\");\n                        },\n                        over: function (event, ui) {\n                            $virtualcell.addClass(\"virtual-hover\");\n                            console.info(\"Event: \", {clientX: event['clientX'], clientY: event['clientY']}, \"UI: \", ui['offset']);\n                        },\n                        out: function (event, ui) {\n                            $virtualcell.removeClass(\"virtual-hover\");\n                        }\n                    });\n                }\n            }\n            // else look for next row\n            else { // avail == false\n                hasConflict = true;\n            }\n        }\n    });\n    // if no current existing rows available, create a new row\n    if (!added) {\n        // increase rowspan of weekday header\n        var newrowspan = parseInt($(\"#\" + weekday + \" th\").attr(\"rowspan\"), 10) + 1;\n        $(\"#\" + weekday + \" th\").attr(\"rowspan\", newrowspan);\n        var htmlrow = '<tr><td class=\"h09 m00\"></td><td class=\"h09 m30\"></td><td class=\"h10 m00\"></td><td class=\"h10 m30\"></td><td class=\"h11 m00\"></td><td class=\"h11 m30\"></td><td class=\"h12 m00\"></td><td class=\"h12 m30\"></td><td class=\"h13 m00\"></td><td class=\"h13 m30\"></td><td class=\"h14 m00\"></td><td class=\"h14 m30\"></td><td class=\"h15 m00\"></td><td class=\"h15 m30\"></td><td class=\"h16 m00\"></td><td class=\"h16 m30\"></td><td class=\"h17 m00\"></td><td class=\"h17 m30\"></td><td class=\"h18 m00\"></td><td class=\"h18 m30\"></td><td class=\"h19 m00\"></td><td class=\"h19 m30\"></td><td class=\"h20 m00\"></td><td class=\"h20 m30\"></td><td class=\"h21 m00\"></td><td class=\"h21 m30\"></td><td class=\"h22 m00\"></td><td class=\"h22 m30\"></td></tr>';\n        $(\"#\" + weekday).append(htmlrow);\n        addCourseBox(code, section, weekday, start, end, singleton, virtual, dates, sectionObj);\n        return;\n    }\n    if (hasConflict) setTimeConflict(weekday, start, end);\n    $(\"div.lesson.\" + code).parentsUntil(\"tr\").parent().removeClass(\"spare-tr\");\n    // save timetable to cookies\n    saveTimetableToStorage();\n    getURL();\n    updateConflictStyle();\n    if (window.readMode) $(\".lesson.draggable\").draggable(\"disable\");\n}\n","import addSection from './addSection';\nimport getSections from './getSections';\nimport updateConflictStyle from './updateConflictStyle';\n\n// add course boxes of available sections of the section type\nexport default function addVirtualCourse(code, section) {\n    var sectiontype = section.match(/[A-Z]+/i);\n    var sections = getSections(code);\n    var singleton = (sections[sectiontype].length === 1);\n    for (var i = 0; i < sections[sectiontype].length; i++) {\n        if (sections[sectiontype][i] === section) {\n            continue;\n        }\n        addSection(window.data[code], sections[sectiontype][i], singleton, true);\n    }\n    updateConflictStyle();\n}\n","import $ from 'jquery';\n\nimport compactTable from './compactTable';\nimport getURL from './getURL';\n\nexport default function removeSection(code, section) {\n    for (var i = 0; i < window.timetable[code].length;) {\n        if (window.timetable[code][i] === section) {\n            window.timetable[code].splice(i, 1);\n        }\n        else {\n            i++;\n        }\n    }\n    $(\".tba.\" + code + \".\" + section).remove();\n    if ($(\"#tba-courses\").children().length === 0) {\n        $(\"#no-tba\").show();\n    }\n    $(\"td.occupied div.lesson.\" + code + \".\" + section).each(function () {\n        var cell = $(this).parent();\n        var colspan = $(cell).attr(\"colspan\");\n        $(cell).removeAttr(\"colspan\");\n        $(cell).removeClass(\"occupied\");\n        var next = $(cell).next();\n        for (var i = 1; i < colspan; i++) {\n            $(next).removeClass(\"hidden\");\n            next = $(next).next();\n        }\n        $(this).remove();\n    });\n    compactTable();\n    getURL();\n}\n","import $ from 'jquery';\n\nexport default function setTimeConflict(weekday, start, end) {\n    var start_time = parseInt(start.substr(0, 2).concat(start.substr(3, 2)), 10);\n    if (start.substr(5, 2) === \"PM\" && start.substr(0, 2) !== \"12\") {\n        start_time += 1200;\n    }\n    var end_time = parseInt(end.substr(0, 2) + end.substr(3, 2), 10);\n    if (end.substr(5, 2) === \"PM\" && end.substr(0, 2) !== \"12\") {\n        end_time += 1200;\n    }\n    var starth = Math.floor(start_time / 100);\n    var startm = start_time % 100;\n    var endh = Math.floor(end_time / 100);\n    var endm = end_time % 100;\n    if (endm <= 30) endm = 0;\n    else if (endm <= 60) endm = 30;\n    for (var i = starth; i <= endh; i++) {\n        for (var j = 0; j < 60; j += 30) {\n            if (i === starth && j < startm) continue;\n            if (i === endh && j > endm) break;\n            var h = \"h\".concat((i < 10) ? (\"0\".concat(i)) : i);\n            var m = \"m\".concat((j < 10) ? \"0\".concat(j) : j);\n            //$(\"#\"+weekday+\" .\"+h+\".\"+m).removeClass('time-conflict').addClass('time-conflict');\n            $.each($(\"#\" + weekday + \" .\" + h + \".\" + m), function () {\n                if ($(this).hasClass('hidden')) {\n                    var firstcell = $(this).prevUntil('.occupied').prev();\n                    $(firstcell).children('.lesson').removeClass('time-conflict').addClass('time-conflict');\n                }\n                else if ($(this).hasClass('occupied')) {\n                    $(this).children('.lesson').removeClass('time-conflict').addClass('time-conflict');\n                }\n            });\n        }\n    }\n}\n","import $ from 'jquery';\n\nimport addCourseBox from './addCourseBox';\nimport getSectionObjs from './getSectionObjs';\nimport getURL from './getURL';\nimport saveTimetableToStorage from './saveTimetableToStorage';\n\n// course: course object, section: section number, singleton: boolean\nexport default function addSection(course, section, singleton, virtual) {\n    var code = course[\"code\"];\n    if (!virtual) window.timetable[code].push(section);\n    var sectionObjs = getSectionObjs(code, section);\n    var timeStr = \"\";\n    var dates = null, weekdays = null, times = null;\n    for (var s = 0; s < sectionObjs.length; s++) {\n        var datetime = sectionObjs[s][\"datetime\"];\n        var hasDate = 0;\n        if (datetime.length === 2) hasDate = 1;\n        if (hasDate === 1) {\n            dates = datetime[0].match(/[0-9]{2}-[A-Z]{3}-[0-9]{4}/ig);\n            dates['index'] = s;\n            if (sectionObjs.length > 1)\n                dates['multiple'] = true;\n            else\n                dates['multiple'] = false;\n        }\n        if (datetime[0] === \"TBA\") { // TBA cannot be added into timetable\n            var str = \"<span class='tba \" + code + \" \" + section + \"'>\";\n            if (!virtual) {\n                if ($(\"#no-tba\").is(':hidden')) str += ', ';\n                str += course.code + \" \" + section + \"</span>\";\n                $(\"#tba-courses\").append(str);\n                $(\"#no-tba\").hide();\n            }\n            // save timetable to cookies\n            saveTimetableToStorage();\n            getURL();\n            continue;\n        }\n        weekdays = datetime[hasDate].match(/(Mo|Tu|We|Th|Fr|Sa|Su)/ig);\n        times = datetime[hasDate].match(/[0-9]{2}:[0-9]{2}[A|P]M/ig);\n        /*if (!times || times.length!==2) {\n         // the element is date rather than time\n         //continue;\n         }\n         else if (timeStr.indexOf(times)!==-1) {\n         // duplicate time (may be of different date period)\n         //continue;\n         }*/\n        timeStr += times;\n        if (dates !== null && dates.length === 2) {\n            timeStr = dates[0] + \" - \" + dates[1] + \" \" + timeStr;\n        }\n        for (var k = 0; k < weekdays.length; k++) {\n            addCourseBox(code, section, weekdays[k], times[0], times[1], singleton, virtual, dates, sectionObjs[s]);\n        }\n    }\n}\n","export default function getSectionObjs(code, section) {\n    var objs = [];\n    for (var j = 0; j < window.data[code][\"sections\"].length; j++) {\n        if (window.data[code][\"sections\"][j][\"section\"] === section) {\n            objs.push(window.data[code][\"sections\"][j]);\n        }\n    }\n    return objs;\n}\n","import $ from 'jquery';\n\nimport addSection from './addSection';\nimport getSections from './getSections';\nimport getURL from './getURL';\nimport removeCourse from './removeCourse';\n\nwindow.removeCourse = removeCourse;\n\nexport default function addCourse(_code, sections) {\n    if (!window.loaded) {\n        console.log(\"Please try again later as data is still loading...\");\n        return false;\n    }\n    var val = $(\"#add\").val().trim();\n    if (typeof _code !== \"\") {\n        val = _code;\n    }\n    var code = val.split(\" \")[0].trim();\n    code = code.substr(0, code.length - 1);\n    if (val === \"\") {\n        console.log(\"No course code\");\n        return false;\n    }\n    else if (!window.data.hasOwnProperty(code)) {\n        console.log(\"Course not found: \" + code);\n        return false;\n    }\n    if (window.timetable.hasOwnProperty(code)) {\n        alert(\"Course already added!\");\n        return false;\n    }\n    window.timetable[code] = [];\n    var course = window.data[code];\n    // remove from search hints of autocomplete\n    var hintstext = code + \": \" + course[\"name\"];\n    for (var i = 0; i < window.searchhints.length;) {\n        if (window.searchhints[i] == hintstext) {\n            window.searchhints.splice(i, 1);\n            break;\n        }\n        else {\n            i++;\n        }\n    }\n    var types = getSections(code);\n    if (sections === \"\") {\n        for (var i = 0; i < types[\"types\"].length; i++) {\n            // add the first section of each section type\n            var type = types[\"types\"][i];\n            var section = types[type][0];\n            var section_singleton = (types[type].length === 1);\n            addSection(course, section, section_singleton, false);\n        }\n    }\n    else {\n        for (var i = 0; i < sections.length; i++) {\n            var section_singleton = (types[sections[i].match(/[A-Z]+/i)].length === 1);\n            addSection(course, sections[i], section_singleton, false);\n        }\n    }\n    // add to timetable control table, hide the no courses added row\n    $(\"#none\").hide();\n    var infolink = \"https://w5.ab.ust.hk/wcq/cgi-bin/\" + window.terms[0][\"num\"] + \"/subject/\" + code.substr(0, 4) + \"#\" + code;\n    var actions = \"<a target='_blank' href='\" + infolink + \"'><img title='Details' class='actionsImg' src='images/info.png' /></a>&nbsp;&nbsp;\";\n    actions += \"<a href='javascript:removeCourse(\\\"\" + code + \"\\\")'><img title='Remove' class='actionsImg' src='images/cross.png' /></a>\";\n    var htmlrow = \"<tr class='color\" + window.color + \" \" + code + \"' name='\" + code + \"'><td>\" + code + \"</td><td>\" + window.data[code][\"name\"] + \"</td><td>\" + actions + \"</td></tr>\";\n    $(\"#courselist\").children(\"tr\").each(function () {\n        if (htmlrow !== null && code < $(this).attr(\"name\")) {\n            $(htmlrow).insertBefore($(this));\n            htmlrow = null;\n        }\n    });\n    if (htmlrow !== null) {\n        $(\"#courselist\").append(htmlrow);\n    }\n    window.courseColor[code] = window.color;\n    // change color;\n    window.color = (window.color + 1) % 10;\n    $(\"#add\").val(\"\"); // clear input text\n    getURL();\n    return false; // always return false to avoid form submitting\n}\n","export default function getStoredValue(key) {\n    if (typeof(Storage) !== \"undefined\") {\n        return localStorage.getItem(key) == null ? \"\" : localStorage.getItem(key);\n    }\n    else {\n        var name = key + \"=\";\n        var ca = document.cookie.split(';');\n        for (var i = 0; i < ca.length; i++) {\n            var c = ca[i];\n            while (c.charAt(0) === ' ') c = c.substring(1);\n            if (c.indexOf(name) !== -1) return c.substring(name.length, c.length);\n        }\n        return \"\";\n    }\n}\n","export default function getURLParameter(sParam) {\n    var sPageURL = window.location.search.substring(1);\n    var sURLVariables = sPageURL.split('&');\n    for (var i = 0; i < sURLVariables.length; i++) {\n        var sParameterName = sURLVariables[i].split('=');\n        if (sParameterName[0] === sParam) {\n            return sParameterName[1];\n        }\n    }\n    return null;\n}\n","import $ from 'jquery';\n\nimport compactTable from './compactTable';\nimport getURL from './getURL';\nimport saveTimetableToStorage from './saveTimetableToStorage';\n\n// remove course from timetable and control table\nexport default function removeCourse(code) {\n    if (window.readMode) {\n        alert(\"Not allowed in Read-Only Mode\");\n        return;\n    }\n    $(\".tba.\" + code).remove();\n    if ($(\"#tba-courses\").children().length === 0) {\n        $(\"#no-tba\").show();\n    }\n    $(\"td.occupied div.lesson.\" + code).each(function () {\n        var cell = $(this).parent();\n        var colspan = $(cell).attr(\"colspan\");\n        $(cell).removeAttr(\"colspan\");\n        $(cell).removeClass(\"occupied\");\n        var next = $(cell).next();\n        for (var i = 1; i < colspan; i++) {\n            $(next).removeClass(\"hidden\");\n            next = $(next).next();\n        }\n        $(this).remove();\n    });\n    $(\"#courselist .\" + code).remove();\n    if ($(\"#courselist\").children(\"tr\").length === 0) {\n        $(\"#none\").show();\n    }\n    // add back to search hints of autocomplete\n    window.searchhints.push(code + \": \" + window.data[code][\"name\"]);\n    window.searchhints.sort();\n    delete window.timetable[code];\n    delete window.courseColor[code];\n    // save to cookies\n    saveTimetableToStorage();\n    compactTable();\n    // update Read-Only Mode url\n    getURL();\n}\n","import $ from 'jquery';\n\nimport 'jquery-ui/ui/core';\n\nimport 'jquery-ui/themes/base/core.css';\nimport 'jquery-ui/themes/base/theme.css';\n\nimport 'jquery-ui/ui/widgets/autocomplete';\nimport 'jquery-ui/ui/widgets/draggable';\nimport 'jquery-ui/ui/widgets/droppable';\n\nimport 'jquery-ui/themes/base/autocomplete.css';\nimport 'jquery-ui/themes/base/draggable.css';\nimport 'jquery-ui/themes/base/menu.css';\n\nimport './override-jquery-ui.css';\n\nimport addCourse from './timetable/addCourse';\nimport compactTable from './timetable/compactTable';\nimport getURL from './timetable/getURL';\nimport loadFromUrlOrStorage from './timetable/loadFromUrlOrStorage';\n\nwindow.jQuery = $;\nrequire('jquery-ui-touch-punch');\n\nwindow.readMode = false;\nwindow.color = 0;\nwindow.courseColor = [];\nwindow.terms = \"\"; // store terms info\nwindow.data = \"\"; // data get from courseInfo.json (via data.php and .json updated by mkdata.php)\nwindow.loaded = false; // check if data loaded when adding course\nwindow.searchhints = [];\nwindow.semester = null; // store term in use\nwindow.timetable = []; // store the timetable\n\nwindow.API_PATH = 'https://coust.442.hk/';\nwindow.CLIENT_PATH = 'https://coust.github.io/';\nwindow.COOKIE_EXPIRE_DAYS = 50;\n\nfunction timetable() {\n    $.ajax({\n        cache: true,\n        url: window.API_PATH + 'json/data.php',\n        type: \"GET\",\n        dataType: \"json\"\n    }).done(function (_data) {\n        window.data = _data;\n        window.terms = window.data[\"terms\"];\n        window.semester = window.terms[\"current\"];\n        //delete data[\"terms\"];\n        window.loaded = true;\n        $.each(window.data, function (key, val) {\n            if (key === \"terms\" || key === \"lastUpdated\") return true;\n            window.searchhints.push(key + ': ' + val[\"name\"]);\n        });\n        getURL();\n\n        $(\"#add\").autocomplete({\n            // source: \"http://coust.442.hk/json/parser.php?type=searchhints\",\n            source: window.searchhints,\n            minLength: 0,\n            focus: function (event, ui) {\n                event.preventDefault();\n            },\n            select: function (event, ui) {\n                event.preventDefault();\n                addCourse(ui.item.value, \"\");\n            }\n        }).focus(function () {\n            $(this).autocomplete(\"search\", \"\");\n        });\n        $(\"#add\").click(function () {\n            $(this).autocomplete(\"search\", $(this).val());\n        });\n        // add term info and last update\n        $(\"#update-time\").html(window.data[\"lastUpdated\"]);\n        $(\"#termInfo\").html(window.terms[\"current\"][\"text\"]);\n        // load courses added from cookies\n        loadFromUrlOrStorage();\n        compactTable();\n    });\n}\n\nexport default timetable;\n","import $ from 'jquery';\n\nimport addCourse from './addCourse';\nimport getStoredValue from './getStoredValue';\nimport getURLParameter from './getURLParameter';\n\nexport default function loadFromUrlOrStorage() {\n    var timetableStr = \"\";\n    if (getURLParameter(\"timetable\") !== null) {\n        var timetableSemester = getURLParameter(\"semester\");\n        if (timetableSemester == window.terms[\"current\"][\"num\"]) {\n            timetableStr = getURLParameter(\"timetable\");\n            window.readMode = true;\n            $(\"#readmode\").show();\n        }\n        else {\n            window.location.replace(window.CLIENT_PATH);\n        }\n    }\n    else {\n        var timetableSemester = getStoredValue(\"timetable-semester\");\n        if (timetableSemester == window.terms[\"current\"][\"num\"]) {\n            timetableStr = getStoredValue(\"timetable\");\n        }\n        $(\"#readmode\").hide();\n    }\n    timetableStr = decodeURIComponent(timetableStr);\n    $(\"#loading\").show();\n    var res = timetableStr.split(\"!\");\n    for (var i = 0; i < res.length; i++) {\n        if (res[i] === \"\") continue;\n        var rc = res[i].split(\"_\");\n        addCourse(rc[0], rc[1].split(\",\"));\n    }\n    $(\"#loading\").hide();\n    $(\".content\").show();\n    if (window.readMode) {\n        $(\".lesson.draggable\").draggable(\"disable\");\n        $(\".lesson\").css(\"cursor\", \"default\");\n        $(\"img\").filter(\"[title='Remove']\").parents(\"a\").hide();\n        $(\"#add\").val(\"Click the logo to exit Read-Only Mode\");\n        $(\"#add\").prop(\"disabled\", true);\n    }\n    else {\n        $(\"#add\").trigger(\"focusout\");\n    }\n}\n","import React from 'react';\r\nimport clsx from 'clsx';\r\n\r\nimport Aside from './Aside';\r\nimport CourseInfoSection from './CourseInfoSection';\r\nimport Faq from './Faq';\r\nimport Header from './Header';\r\nimport Timetable from './Timetable';\r\n\r\nimport oldTimetableScript from '../timetable';\r\n\r\nimport styles from './App.module.css';\r\n\r\n// jQuery stuffs, should be removed in the future.\r\nimport $ from 'jquery';\r\nimport 'jquery-ui/ui/widgets/tooltip';\r\nimport 'jquery-ui/themes/base/tooltip.css';\r\n\r\nclass App extends React.PureComponent {\r\n    componentDidMount() {\r\n        $(document).tooltip({\r\n            position: {\r\n                my: 'left+15 center',\r\n                at: 'right center+5',\r\n            },\r\n            tooltipClass: styles.customTooltipStyle,\r\n        })\r\n\r\n        oldTimetableScript();\r\n    }\r\n\r\n    render() {\r\n        const loadingDivStyle = {\r\n            display: 'block',\r\n            width: 200,\r\n            margin: '0 auto',\r\n            paddingTop: 50,\r\n            fontSize: 50,\r\n        };\r\n\r\n        return (\r\n            <>\r\n                <Header />\r\n                <div className={styles.container}>\r\n                    <div id=\"timetable_wrapper\" className={clsx(styles.timetableWrapper, styles.noSelect)}>\r\n                        <div id=\"readmode\" className={styles.readMode}>\r\n                            <span title=\"No Changes Allowed\">READ-ONLY</span>\r\n                        </div>\r\n                        <div id=\"loading\" style={loadingDivStyle}>\r\n                            <span>Loading...</span>\r\n                        </div>\r\n                        <Timetable />\r\n                    </div>\r\n                    <div className=\"content\">\r\n                        <Aside />\r\n                        <CourseInfoSection />\r\n                    </div>\r\n                    <Faq />\r\n                </div>\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}